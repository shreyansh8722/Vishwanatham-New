import{c as h,j as e,t as p,d as u}from"./index-BDlxOAt8.js";import{r as c}from"./react-vendor-5iokPOny.js";import{y as f,t as g,v as j,m as y}from"./firebase-vendor-AFMmvn69.js";/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=h("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),S=()=>{const[i,o]=c.useState([]),[l,d]=c.useState("");c.useEffect(()=>{(async()=>{const t=new Map;(await f(g(y(u,"orders"),j("createdAt","desc")))).forEach(x=>{var n;const a=x.data(),r=(n=a.shippingDetails)==null?void 0:n.email;r&&!t.has(r)&&t.set(r,{email:r,name:`${a.shippingDetails.firstName} ${a.shippingDetails.lastName}`,phone:a.shippingDetails.phone,totalSpent:a.totalAmount})}),o(Array.from(t.values()))})()},[]);const m=i.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h2",{className:"text-2xl font-bold text-[#1a1a1a]",children:"Customers"})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(p,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{value:l,onChange:s=>d(s.target.value),placeholder:"Search customers...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-black"})]})}),e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-xs border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Customer"}),e.jsx("th",{className:"p-4",children:"Contact"}),e.jsx("th",{className:"p-4 text-center",children:"Status"}),e.jsx("th",{className:"p-4 text-right",children:"Spent"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map((s,t)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 font-bold",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#B08D55]/10 text-[#B08D55] flex items-center justify-center text-xs font-bold",children:s.name.charAt(0)}),s.name]})}),e.jsxs("td",{className:"p-4 text-gray-500",children:[e.jsx("div",{className:"text-xs",children:s.email}),e.jsx("div",{className:"text-xs",children:s.phone})]}),e.jsx("td",{className:"p-4 text-center",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-green-50 text-green-700 text-[10px] font-bold uppercase",children:[e.jsx(b,{size:12})," Active"]})}),e.jsxs("td",{className:"p-4 text-right font-medium",children:["â‚¹",s.totalSpent.toLocaleString()]})]},t))})]})]})]})};export{S as CustomerManager};
