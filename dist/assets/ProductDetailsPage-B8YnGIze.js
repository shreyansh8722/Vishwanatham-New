import{c as M,j as r,X as Ie,a as Xe,m as bt,S as me,L as ye,d as Z,s as wt,U as yt,T as St,b as jt,u as Nt,M as Ct,e as Pt,A as kt,f as Ze,g as Tt,C as ze,P as zt}from"./index-C2OvRd8y.js";import{e as J,r as x,f as Dt,u as At,L as He}from"./react-vendor-5iokPOny.js";import{l as Yt,d as Se,m as je,r as Xt,n as Et,p as Bt,q as Ft,t as et,v as Ot,w as tt,o as at,x as Mt,f as Rt,y as _t}from"./firebase-vendor-AFMmvn69.js";import{C as Ee,a as Wt,S as Lt,R as De}from"./RashiFinderModal-JPIrXnVa.js";import{M as Zt,T as Ht}from"./ticket-BLqRqDGi.js";import{H as $t}from"./help-circle-BMEHr_rL.js";/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=M("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=M("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=M("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=M("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=M("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=M("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=M("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=M("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=M("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var B=function(e,i){return Number(e.toFixed(i))},aa=function(e,i){return typeof e=="number"?e:i},P=function(e,i,t){t&&typeof t=="function"&&t(e,i)},ia=function(e){return-Math.cos(e*Math.PI)/2+.5},ra=function(e){return e},na=function(e){return e*e},sa=function(e){return e*(2-e)},oa=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},la=function(e){return e*e*e},da=function(e){return--e*e*e+1},ca=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},ua=function(e){return e*e*e*e},ma=function(e){return 1- --e*e*e*e},fa=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},pa=function(e){return e*e*e*e*e},ha=function(e){return 1+--e*e*e*e*e},va=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},it={easeOut:ia,linear:ra,easeInQuad:na,easeOutQuad:sa,easeInOutQuad:oa,easeInCubic:la,easeOutCubic:da,easeInOutCubic:ca,easeInQuart:ua,easeOutQuart:ma,easeInOutQuart:fa,easeInQuint:pa,easeOutQuint:ha,easeInOutQuint:va},rt=function(e){typeof e=="number"&&cancelAnimationFrame(e)},O=function(e){e.mounted&&(rt(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function nt(e,i,t,a){if(e.mounted){var s=new Date().getTime(),n=1;O(e),e.animation=function(){if(!e.mounted)return rt(e.animation);var o=new Date().getTime()-s,l=o/t,d=it[i],u=d(l);o>=t?(a(n),e.animation=null):e.animation&&(a(u),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function ga(e){var i=e.scale,t=e.positionX,a=e.positionY;return!(Number.isNaN(i)||Number.isNaN(t)||Number.isNaN(a))}function V(e,i,t,a){var s=ga(i);if(!(!e.mounted||!s)){var n=e.setTransformState,o=e.transformState,l=o.scale,d=o.positionX,u=o.positionY,c=i.scale-l,f=i.positionX-d,m=i.positionY-u;t===0?n(i.scale,i.positionX,i.positionY):nt(e,a,t,function(p){var h=l+c*p,v=d+f*p,b=u+m*p;n(h,v,b)})}}function xa(e,i,t){var a=e.offsetWidth,s=e.offsetHeight,n=i.offsetWidth,o=i.offsetHeight,l=n*t,d=o*t,u=a-l,c=s-d;return{wrapperWidth:a,wrapperHeight:s,newContentWidth:l,newDiffWidth:u,newContentHeight:d,newDiffHeight:c}}var ba=function(e,i,t,a,s,n,o){var l=e>i?t*(o?1:.5):0,d=a>s?n*(o?1:.5):0,u=e-i-l,c=l,f=a-s-d,m=d;return{minPositionX:u,maxPositionX:c,minPositionY:f,maxPositionY:m}},Re=function(e,i){var t=e.wrapperComponent,a=e.contentComponent,s=e.setup.centerZoomedOut;if(!t||!a)throw new Error("Components are not mounted");var n=xa(t,a,i),o=n.wrapperWidth,l=n.wrapperHeight,d=n.newContentWidth,u=n.newDiffWidth,c=n.newContentHeight,f=n.newDiffHeight,m=ba(o,d,u,l,c,f,!!s);return m},Be=function(e,i,t,a){return a?e<i?B(i,2):e>t?B(t,2):B(e,2):B(e,2)},G=function(e,i){var t=Re(e,i);return e.bounds=t,t};function fe(e,i,t,a,s,n,o){var l=t.minPositionX,d=t.minPositionY,u=t.maxPositionX,c=t.maxPositionY,f=0,m=0;o&&(f=s,m=n);var p=Be(e,l-f,u+f,a),h=Be(i,d-m,c+m,a);return{x:p,y:h}}function Ne(e,i,t,a,s,n){var o=e.transformState,l=o.scale,d=o.positionX,u=o.positionY,c=a-l;if(typeof i!="number"||typeof t!="number")return console.error("Mouse X and Y position were not provided!"),{x:d,y:u};var f=d-i*c,m=u-t*c,p=fe(f,m,s,n,0,0,null);return p}function pe(e,i,t,a,s){var n=s?a:0,o=i-n;return!Number.isNaN(t)&&e>=t?t:!Number.isNaN(i)&&e<=o?o:e}var $e=function(e,i){var t=e.setup.panning.excluded,a=e.isInitialized,s=e.wrapperComponent,n=i.target,o="shadowRoot"in n&&"composedPath"in i,l=o?i.composedPath().some(function(c){return c instanceof Element?s==null?void 0:s.contains(c):!1}):s==null?void 0:s.contains(n),d=a&&n&&l;if(!d)return!1;var u=Ce(n,t);return!u},Ve=function(e){var i=e.isInitialized,t=e.isPanning,a=e.setup,s=a.panning.disabled,n=i&&t&&!s;return!!n},wa=function(e,i){var t=e.transformState,a=t.positionX,s=t.positionY;e.isPanning=!0;var n=i.clientX,o=i.clientY;e.startCoords={x:n-a,y:o-s}},ya=function(e,i){var t=i.touches,a=e.transformState,s=a.positionX,n=a.positionY;e.isPanning=!0;var o=t.length===1;if(o){var l=t[0].clientX,d=t[0].clientY;e.startCoords={x:l-s,y:d-n}}};function Sa(e){var i=e.transformState,t=i.positionX,a=i.positionY,s=i.scale,n=e.setup,o=n.disabled,l=n.limitToBounds,d=n.centerZoomedOut,u=e.wrapperComponent;if(!(o||!u||!e.bounds)){var c=e.bounds,f=c.maxPositionX,m=c.minPositionX,p=c.maxPositionY,h=c.minPositionY,v=t>f||t<m,b=a>p||a<h,j=t>f?u.offsetWidth:e.setup.minPositionX||0,C=a>p?u.offsetHeight:e.setup.minPositionY||0,S=Ne(e,j,C,s,e.bounds,l||d),k=S.x,T=S.y;return{scale:s,positionX:v?k:t,positionY:b?T:a}}}function st(e,i,t,a,s){var n=e.setup.limitToBounds,o=e.wrapperComponent,l=e.bounds,d=e.transformState,u=d.scale,c=d.positionX,f=d.positionY;if(!(o===null||l===null||i===c&&t===f)){var m=fe(i,t,l,n,a,s,o),p=m.x,h=m.y;e.setTransformState(u,p,h)}}var ja=function(e,i,t){var a=e.startCoords,s=e.transformState,n=e.setup.panning,o=n.lockAxisX,l=n.lockAxisY,d=s.positionX,u=s.positionY;if(!a)return{x:d,y:u};var c=i-a.x,f=t-a.y,m=o?d:c,p=l?u:f;return{x:m,y:p}},$=function(e,i){var t=e.setup,a=e.transformState,s=a.scale,n=t.minScale,o=t.disablePadding;return i>0&&s>=n&&!o?i:0},Na=function(e){var i=e.mounted,t=e.setup,a=t.disabled,s=t.velocityAnimation,n=e.transformState.scale,o=s.disabled,l=!o||n>1||!a||i;return!!l},Ca=function(e){var i=e.mounted,t=e.velocity,a=e.bounds,s=e.setup,n=s.disabled,o=s.velocityAnimation,l=e.transformState.scale,d=o.disabled,u=!d||l>1||!n||i;return!(!u||!t||!a)};function Pa(e,i){var t=e.setup.velocityAnimation,a=t.equalToMove,s=t.animationTime,n=t.sensitivity;return a?s*i*n:s}function Ke(e,i,t,a,s,n,o,l,d,u){if(s){if(i>o&&t>o){var c=o+(e-o)*u;return c>d?d:c<o?o:c}if(i<n&&t<n){var c=n+(e-n)*u;return c<l?l:c>n?n:c}}return a?i:Be(e,n,o,s)}function ka(e,i){var t=1;return i?Math.min(t,e.offsetWidth/window.innerWidth):t}function Ta(e,i){var t=Na(e);if(t){var a=e.lastMousePosition,s=e.velocityTime,n=e.setup,o=e.wrapperComponent,l=n.velocityAnimation.equalToMove,d=Date.now();if(a&&s&&o){var u=ka(o,l),c=i.x-a.x,f=i.y-a.y,m=c/u,p=f/u,h=d-s,v=c*c+f*f,b=Math.sqrt(v)/h;e.velocity={velocityX:m,velocityY:p,total:b}}e.lastMousePosition=i,e.velocityTime=d}}function za(e){var i=e.velocity,t=e.bounds,a=e.setup,s=e.wrapperComponent,n=Ca(e);if(!(!n||!i||!t||!s)){var o=i.velocityX,l=i.velocityY,d=i.total,u=t.maxPositionX,c=t.minPositionX,f=t.maxPositionY,m=t.minPositionY,p=a.limitToBounds,h=a.alignmentAnimation,v=a.zoomAnimation,b=a.panning,j=b.lockAxisY,C=b.lockAxisX,S=v.animationType,k=h.sizeX,T=h.sizeY,y=h.velocityAlignmentTime,D=y,Y=Pa(e,d),E=Math.max(Y,D),F=$(e,k),R=$(e,T),_=F*s.offsetWidth/100,W=R*s.offsetHeight/100,ie=u+_,I=c-_,re=f+W,ne=m-W,he=e.transformState,ve=new Date().getTime();nt(e,S,E,function(K){var ee=e.transformState,w=ee.scale,U=ee.positionX,te=ee.positionY,Pe=new Date().getTime()-ve,se=Pe/D,ke=it[h.animationType],ge=1-ke(Math.min(1,se)),oe=1-K,q=U+o*oe,ae=te+l*oe,le=Ke(q,he.positionX,U,C,p,c,u,I,ie,ge),de=Ke(ae,he.positionY,te,j,p,m,f,ne,re,ge);(U!==q||te!==ae)&&e.setTransformState(w,le,de)})}}function Ue(e,i){var t=e.transformState.scale;O(e),G(e,t),window.TouchEvent!==void 0&&i instanceof TouchEvent?ya(e,i):wa(e,i)}function _e(e,i){var t=e.transformState.scale,a=e.setup,s=a.minScale,n=a.alignmentAnimation,o=n.disabled,l=n.sizeX,d=n.sizeY,u=n.animationTime,c=n.animationType,f=o||t<s||!l&&!d;if(!f){var m=Sa(e);m&&V(e,m,i??u,c)}}function qe(e,i,t){var a=e.startCoords,s=e.setup,n=s.alignmentAnimation,o=n.sizeX,l=n.sizeY;if(a){var d=ja(e,i,t),u=d.x,c=d.y,f=$(e,o),m=$(e,l);Ta(e,{x:u,y:c}),st(e,u,c,f,m)}}function Da(e){if(e.isPanning){var i=e.setup.panning.velocityDisabled,t=e.velocity,a=e.wrapperComponent,s=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var n=a==null?void 0:a.getBoundingClientRect(),o=s==null?void 0:s.getBoundingClientRect(),l=(n==null?void 0:n.width)||0,d=(n==null?void 0:n.height)||0,u=(o==null?void 0:o.width)||0,c=(o==null?void 0:o.height)||0,f=l<u||d<c,m=!i&&t&&(t==null?void 0:t.total)>.1&&f;m?za(e):_e(e)}}function We(e,i,t,a){var s=e.setup,n=s.minScale,o=s.maxScale,l=s.limitToBounds,d=pe(B(i,2),n,o,0,!1),u=G(e,d),c=Ne(e,t,a,d,u,l),f=c.x,m=c.y;return{scale:d,positionX:f,positionY:m}}function ot(e,i,t){var a=e.transformState.scale,s=e.wrapperComponent,n=e.setup,o=n.minScale,l=n.limitToBounds,d=n.zoomAnimation,u=d.disabled,c=d.animationTime,f=d.animationType,m=u||a>=o;if((a>=1||l)&&_e(e),!(m||!s||!e.mounted)){var p=i||s.offsetWidth/2,h=t||s.offsetHeight/2,v=We(e,o,p,h);v&&V(e,v,c,f)}}var H=function(){return H=Object.assign||function(i){for(var t,a=1,s=arguments.length;a<s;a++){t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},H.apply(this,arguments)};function Qe(e,i,t){for(var a=0,s=i.length,n;a<s;a++)(n||!(a in i))&&(n||(n=Array.prototype.slice.call(i,0,a)),n[a]=i[a]);return e.concat(n||Array.prototype.slice.call(i))}var be={scale:1,positionX:0,positionY:0},ue={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Fe={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},lt=function(e){var i,t,a,s;return{previousScale:(i=e.initialScale)!==null&&i!==void 0?i:be.scale,scale:(t=e.initialScale)!==null&&t!==void 0?t:be.scale,positionX:(a=e.initialPositionX)!==null&&a!==void 0?a:be.positionX,positionY:(s=e.initialPositionY)!==null&&s!==void 0?s:be.positionY}},Ge=function(e){var i=H({},ue);return Object.keys(e).forEach(function(t){var a=typeof e[t]<"u",s=typeof ue[t]<"u";if(s&&a){var n=Object.prototype.toString.call(ue[t]),o=n==="[object Object]",l=n==="[object Array]";o?i[t]=H(H({},ue[t]),e[t]):l?i[t]=Qe(Qe([],ue[t],!0),e[t]):i[t]=e[t]}}),i},dt=function(e,i,t){var a=e.transformState.scale,s=e.wrapperComponent,n=e.setup,o=n.maxScale,l=n.minScale,d=n.zoomAnimation,u=n.smooth,c=d.size;if(!s)throw new Error("Wrapper is not mounted");var f=u?a*Math.exp(i*t):a+i*t,m=pe(B(f,3),l,o,c,!1);return m};function ct(e,i,t,a,s){var n=e.wrapperComponent,o=e.transformState,l=o.scale,d=o.positionX,u=o.positionY;if(!n)return console.error("No WrapperComponent found");var c=n.offsetWidth,f=n.offsetHeight,m=(c/2-d)/l,p=(f/2-u)/l,h=dt(e,i,t),v=We(e,h,m,p);if(!v)return console.error("Error during zoom event. New transformation state was not calculated.");V(e,v,a,s)}function ut(e,i,t,a){var s=e.setup,n=e.wrapperComponent,o=s.limitToBounds,l=lt(e.props),d=e.transformState,u=d.scale,c=d.positionX,f=d.positionY;if(n){var m=Re(e,l.scale),p=fe(l.positionX,l.positionY,m,o,0,0,n),h={scale:l.scale,positionX:p.x,positionY:p.y};u===l.scale&&c===l.positionX&&f===l.positionY||(a==null||a(),V(e,h,i,t))}}function Aa(e,i,t,a){var s=e.getBoundingClientRect(),n=i.getBoundingClientRect(),o=t.getBoundingClientRect(),l=n.x*a.scale,d=n.y*a.scale;return{x:(s.x-o.x+l)/a.scale,y:(s.y-o.y+d)/a.scale}}function Ya(e,i,t){var a=e.wrapperComponent,s=e.contentComponent,n=e.transformState,o=e.setup,l=o.limitToBounds,d=o.minScale,u=o.maxScale;if(!a||!s)return n;var c=a.getBoundingClientRect(),f=i.getBoundingClientRect(),m=Aa(i,a,s,n),p=m.x,h=m.y,v=f.width/n.scale,b=f.height/n.scale,j=a.offsetWidth/v,C=a.offsetHeight/b,S=pe(t||Math.min(j,C),d,u,0,!1),k=(c.width-v*S)/2,T=(c.height-b*S)/2,y=(c.left-p)*S+k,D=(c.top-h)*S+T,Y=Re(e,S),E=fe(y,D,Y,l,0,0,a),F=E.x,R=E.y;return{positionX:F,positionY:R,scale:S}}var Xa=function(e){return function(i,t,a){i===void 0&&(i=.5),t===void 0&&(t=300),a===void 0&&(a="easeOut"),ct(e,1,i,t,a)}},Ea=function(e){return function(i,t,a){i===void 0&&(i=.5),t===void 0&&(t=300),a===void 0&&(a="easeOut"),ct(e,-1,i,t,a)}},Ba=function(e){return function(i,t,a,s,n){s===void 0&&(s=300),n===void 0&&(n="easeOut");var o=e.transformState,l=o.positionX,d=o.positionY,u=o.scale,c=e.wrapperComponent,f=e.contentComponent,m=e.setup.disabled;if(!(m||!c||!f)){var p={positionX:Number.isNaN(i)?l:i,positionY:Number.isNaN(t)?d:t,scale:Number.isNaN(a)?u:a};V(e,p,s,n)}}},Fa=function(e){return function(i,t){i===void 0&&(i=200),t===void 0&&(t="easeOut"),ut(e,i,t)}},Oa=function(e){return function(i,t,a){t===void 0&&(t=200),a===void 0&&(a="easeOut");var s=e.transformState,n=e.wrapperComponent,o=e.contentComponent;if(n&&o){var l=mt(i||s.scale,n,o);V(e,l,t,a)}}},Ma=function(e){return function(i,t,a,s){a===void 0&&(a=600),s===void 0&&(s="easeOut"),O(e);var n=e.wrapperComponent,o=typeof i=="string"?document.getElementById(i):i;if(n&&o&&n.contains(o)){var l=Ya(e,o,t);V(e,l,a,s)}}},Oe=function(e){return{instance:e,zoomIn:Xa(e),zoomOut:Ea(e),setTransform:Ba(e),resetTransform:Fa(e),centerView:Oa(e),zoomToElement:Ma(e)}},Ra=function(e){return{instance:e,state:e.transformState}},N=function(e){var i={};return Object.assign(i,Ra(e)),Object.assign(i,Oe(e)),i},Ae=!1;function Ye(){try{var e={get passive(){return Ae=!0,!1}};return e}catch{return Ae=!1,Ae}}var we=".".concat(Fe.wrapperClass),Ce=function(e,i){return i.some(function(t){return e.matches("".concat(we," ").concat(t,", ").concat(we," .").concat(t,", ").concat(we," ").concat(t," *, ").concat(we," .").concat(t," *"))})},Me=function(e){e&&clearTimeout(e)},_a=function(e,i,t){return"translate(".concat(e,"px, ").concat(i,"px) scale(").concat(t,")")},mt=function(e,i,t){var a=t.offsetWidth*e,s=t.offsetHeight*e,n=(i.offsetWidth-a)/2,o=(i.offsetHeight-s)/2;return{scale:e,positionX:n,positionY:o}};function Wa(e){return function(i){e.forEach(function(t){typeof t=="function"?t(i):t!=null&&(t.current=i)})}}var La=function(e,i){var t=e.setup.wheel,a=t.disabled,s=t.wheelDisabled,n=t.touchPadDisabled,o=t.excluded,l=e.isInitialized,d=e.isPanning,u=i.target,c=l&&!d&&!a&&u;if(!c||s&&!i.ctrlKey||n&&i.ctrlKey)return!1;var f=Ce(u,o);return!f},Za=function(e){return e?e.deltaY<0?1:-1:0};function Ha(e,i){var t=Za(e),a=aa(i,t);return a}function ft(e,i,t){var a=i.getBoundingClientRect(),s=0,n=0;if("clientX"in e)s=(e.clientX-a.left)/t,n=(e.clientY-a.top)/t;else{var o=e.touches[0];s=(o.clientX-a.left)/t,n=(o.clientY-a.top)/t}return(Number.isNaN(s)||Number.isNaN(n))&&console.error("No mouse or touch offset found"),{x:s,y:n}}var $a=function(e,i,t,a,s){var n=e.transformState.scale,o=e.wrapperComponent,l=e.setup,d=l.maxScale,u=l.minScale,c=l.zoomAnimation,f=l.disablePadding,m=c.size,p=c.disabled;if(!o)throw new Error("Wrapper is not mounted");var h=n+i*t,v=a?!1:!p,b=pe(B(h,3),u,d,m,v&&!f);return b},Va=function(e,i){var t=e.previousWheelEvent,a=e.transformState.scale,s=e.setup,n=s.maxScale,o=s.minScale;return t?a<n||a>o||Math.sign(t.deltaY)!==Math.sign(i.deltaY)||t.deltaY>0&&t.deltaY<i.deltaY||t.deltaY<0&&t.deltaY>i.deltaY||Math.sign(t.deltaY)!==Math.sign(i.deltaY):!1},Ka=function(e,i){var t=e.setup.pinch,a=t.disabled,s=t.excluded,n=e.isInitialized,o=i.target,l=n&&!a&&o;if(!l)return!1;var d=Ce(o,s);return!d},Ua=function(e){var i=e.setup.pinch.disabled,t=e.isInitialized,a=e.pinchStartDistance,s=t&&!i&&a;return!!s},qa=function(e,i,t){var a=t.getBoundingClientRect(),s=e.touches,n=B(s[0].clientX-a.left,5),o=B(s[0].clientY-a.top,5),l=B(s[1].clientX-a.left,5),d=B(s[1].clientY-a.top,5);return{x:(n+l)/2/i,y:(o+d)/2/i}},pt=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},Qa=function(e,i){var t=e.pinchStartScale,a=e.pinchStartDistance,s=e.setup,n=s.maxScale,o=s.minScale,l=s.zoomAnimation,d=s.disablePadding,u=l.size,c=l.disabled;if(!t||a===null||!i)throw new Error("Pinch touches distance was not provided");if(i<0)return e.transformState.scale;var f=i/a,m=f*t;return pe(B(m,2),o,n,u,!c&&!d)},Ga=160,Ja=100,Ia=function(e,i){var t=e.props,a=t.onWheelStart,s=t.onZoomStart;e.wheelStopEventTimer||(O(e),P(N(e),i,a),P(N(e),i,s))},ei=function(e,i){var t=e.props,a=t.onWheel,s=t.onZoom,n=e.contentComponent,o=e.setup,l=e.transformState,d=l.scale,u=o.limitToBounds,c=o.centerZoomedOut,f=o.zoomAnimation,m=o.wheel,p=o.disablePadding,h=o.smooth,v=f.size,b=f.disabled,j=m.step,C=m.smoothStep;if(!n)throw new Error("Component not mounted");i.preventDefault(),i.stopPropagation();var S=Ha(i,null),k=h?C*Math.abs(i.deltaY):j,T=$a(e,S,k,!i.ctrlKey);if(d!==T){var y=G(e,T),D=ft(i,n,d),Y=b||v===0||c||p,E=u&&Y,F=Ne(e,D.x,D.y,T,y,E),R=F.x,_=F.y;e.previousWheelEvent=i,e.setTransformState(T,R,_),P(N(e),i,a),P(N(e),i,s)}},ti=function(e,i){var t=e.props,a=t.onWheelStop,s=t.onZoomStop;Me(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(ot(e,i.x,i.y),e.wheelAnimationTimer=null)},Ja);var n=Va(e,i);n&&(Me(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,P(N(e),i,a),P(N(e),i,s))},Ga))},ht=function(e){for(var i=0,t=0,a=0;a<2;a+=1)i+=e.touches[a].clientX,t+=e.touches[a].clientY;var s=i/2,n=t/2;return{x:s,y:n}},ai=function(e,i){var t=pt(i);e.pinchStartDistance=t,e.lastDistance=t,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var a=ht(i);e.pinchLastCenterX=a.x,e.pinchLastCenterY=a.y,O(e)},ii=function(e,i){var t=e.contentComponent,a=e.pinchStartDistance,s=e.wrapperComponent,n=e.transformState.scale,o=e.setup,l=o.limitToBounds,d=o.centerZoomedOut,u=o.zoomAnimation,c=o.alignmentAnimation,f=u.disabled,m=u.size;if(!(a===null||!t)){var p=qa(i,n,t);if(!(!Number.isFinite(p.x)||!Number.isFinite(p.y))){var h=pt(i),v=Qa(e,h),b=ht(i),j=b.x-(e.pinchLastCenterX||0),C=b.y-(e.pinchLastCenterY||0);if(!(v===n&&j===0&&C===0)){e.pinchLastCenterX=b.x,e.pinchLastCenterY=b.y;var S=G(e,v),k=f||m===0||d,T=l&&k,y=Ne(e,p.x,p.y,v,S,T),D=y.x,Y=y.y;e.pinchMidpoint=p,e.lastDistance=h;var E=c.sizeX,F=c.sizeY,R=$(e,E),_=$(e,F),W=D+j,ie=Y+C,I=fe(W,ie,S,l,R,_,s),re=I.x,ne=I.y;e.setTransformState(v,re,ne)}}}},ri=function(e){var i=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,ot(e,i==null?void 0:i.x,i==null?void 0:i.y)},vt=function(e,i){var t=e.props.onZoomStop,a=e.setup.doubleClick.animationTime;Me(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,P(N(e),i,t)},a)},ni=function(e,i){var t=e.props,a=t.onZoomStart,s=t.onZoom,n=e.setup.doubleClick,o=n.animationTime,l=n.animationType;P(N(e),i,a),ut(e,o,l,function(){return P(N(e),i,s)}),vt(e,i)};function si(e,i){return e==="toggle"?i===1?1:-1:e==="zoomOut"?-1:1}function oi(e,i){var t=e.setup,a=e.doubleClickStopEventTimer,s=e.transformState,n=e.contentComponent,o=s.scale,l=e.props,d=l.onZoomStart,u=l.onZoom,c=t.doubleClick,f=c.disabled,m=c.mode,p=c.step,h=c.animationTime,v=c.animationType;if(!f&&!a){if(m==="reset")return ni(e,i);if(!n)return console.error("No ContentComponent found");var b=si(m,e.transformState.scale),j=dt(e,b,p);if(o!==j){P(N(e),i,d);var C=ft(i,n,o),S=We(e,j,C.x,C.y);if(!S)return console.error("Error during zoom event. New transformation state was not calculated.");P(N(e),i,u),V(e,S,h,v),vt(e,i)}}}var li=function(e,i){var t=e.isInitialized,a=e.setup,s=e.wrapperComponent,n=a.doubleClick,o=n.disabled,l=n.excluded,d=i.target,u=s==null?void 0:s.contains(d),c=t&&d&&u&&!o;if(!c)return!1;var f=Ce(d,l);return!f},di=function(){function e(i){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(a){t.props=a,G(t,t.transformState.scale),t.setup=Ge(a)},this.initializeWindowEvents=function(){var a,s,n=Ye(),o=(a=t.wrapperComponent)===null||a===void 0?void 0:a.ownerDocument,l=o==null?void 0:o.defaultView;(s=t.wrapperComponent)===null||s===void 0||s.addEventListener("wheel",t.onWheelPanning,n),l==null||l.addEventListener("mousedown",t.onPanningStart,n),l==null||l.addEventListener("mousemove",t.onPanning,n),l==null||l.addEventListener("mouseup",t.onPanningStop,n),o==null||o.addEventListener("mouseleave",t.clearPanning,n),l==null||l.addEventListener("keyup",t.setKeyUnPressed,n),l==null||l.addEventListener("keydown",t.setKeyPressed,n)},this.cleanupWindowEvents=function(){var a,s,n=Ye(),o=(a=t.wrapperComponent)===null||a===void 0?void 0:a.ownerDocument,l=o==null?void 0:o.defaultView;l==null||l.removeEventListener("mousedown",t.onPanningStart,n),l==null||l.removeEventListener("mousemove",t.onPanning,n),l==null||l.removeEventListener("mouseup",t.onPanningStop,n),o==null||o.removeEventListener("mouseleave",t.clearPanning,n),l==null||l.removeEventListener("keyup",t.setKeyUnPressed,n),l==null||l.removeEventListener("keydown",t.setKeyPressed,n),document.removeEventListener("mouseleave",t.clearPanning,n),O(t),(s=t.observer)===null||s===void 0||s.disconnect()},this.handleInitializeWrapperEvents=function(a){var s=Ye();a.addEventListener("wheel",t.onWheelZoom,s),a.addEventListener("dblclick",t.onDoubleClick,s),a.addEventListener("touchstart",t.onTouchPanningStart,s),a.addEventListener("touchmove",t.onTouchPanning,s),a.addEventListener("touchend",t.onTouchPanningStop,s)},this.handleInitialize=function(a,s){var n=!1,o=t.setup.centerOnInit,l=function(d,u){for(var c=0,f=d;c<f.length;c++){var m=f[c];if(m.target===u)return!0}return!1};t.applyTransformation(),t.onInitCallbacks.forEach(function(d){d(N(t))}),t.observer=new ResizeObserver(function(d){if(l(d,a)||l(d,s))if(o&&!n){var u=s.offsetWidth,c=s.offsetHeight;(u>0||c>0)&&(n=!0,t.setCenter())}else O(t),G(t,t.transformState.scale),_e(t,0)}),t.observer.observe(a),t.observer.observe(s)},this.onWheelZoom=function(a){var s=t.setup.disabled;if(!s){var n=La(t,a);if(n){var o=t.isPressingKeys(t.setup.wheel.activationKeys);o&&(Ia(t,a),ei(t,a),ti(t,a))}}},this.onWheelPanning=function(a){var s=t.setup,n=s.disabled,o=s.wheel,l=s.panning;if(!(!t.wrapperComponent||!t.contentComponent||n||!o.wheelDisabled||l.disabled||!l.wheelPanning||a.ctrlKey)){a.preventDefault(),a.stopPropagation();var d=t.transformState,u=d.positionX,c=d.positionY,f=u-a.deltaX,m=c-a.deltaY,p=l.lockAxisX?u:f,h=l.lockAxisY?c:m,v=t.setup.alignmentAnimation,b=v.sizeX,j=v.sizeY,C=$(t,b),S=$(t,j);p===u&&h===c||st(t,p,h,C,S)}},this.onPanningStart=function(a){var s=t.setup.disabled,n=t.props.onPanningStart;if(!s){var o=$e(t,a);if(o){var l=t.isPressingKeys(t.setup.panning.activationKeys);l&&(a.button===0&&!t.setup.panning.allowLeftClickPan||a.button===1&&!t.setup.panning.allowMiddleClickPan||a.button===2&&!t.setup.panning.allowRightClickPan||(a.preventDefault(),a.stopPropagation(),O(t),Ue(t,a),P(N(t),a,n)))}}},this.onPanning=function(a){var s=t.setup.disabled,n=t.props.onPanning;if(!s){var o=Ve(t);if(o){var l=t.isPressingKeys(t.setup.panning.activationKeys);l&&(a.preventDefault(),a.stopPropagation(),qe(t,a.clientX,a.clientY),P(N(t),a,n))}}},this.onPanningStop=function(a){var s=t.props.onPanningStop;t.isPanning&&(Da(t),P(N(t),a,s))},this.onPinchStart=function(a){var s=t.setup.disabled,n=t.props,o=n.onPinchingStart,l=n.onZoomStart;if(!s){var d=Ka(t,a);d&&(ai(t,a),O(t),P(N(t),a,o),P(N(t),a,l))}},this.onPinch=function(a){var s=t.setup.disabled,n=t.props,o=n.onPinching,l=n.onZoom;if(!s){var d=Ua(t);d&&(a.preventDefault(),a.stopPropagation(),ii(t,a),P(N(t),a,o),P(N(t),a,l))}},this.onPinchStop=function(a){var s=t.props,n=s.onPinchingStop,o=s.onZoomStop;t.pinchStartScale&&(ri(t),P(N(t),a,n),P(N(t),a,o))},this.onTouchPanningStart=function(a){var s=t.setup.disabled,n=t.props.onPanningStart;if(!s){var o=$e(t,a);if(o){var l=t.lastTouch&&+new Date-t.lastTouch<200&&a.touches.length===1;if(!l){t.lastTouch=+new Date,O(t);var d=a.touches,u=d.length===1,c=d.length===2;u&&(O(t),Ue(t,a),P(N(t),a,n)),c&&t.onPinchStart(a)}}}},this.onTouchPanning=function(a){var s=t.setup.disabled,n=t.props.onPanning;if(t.isPanning&&a.touches.length===1){if(s)return;var o=Ve(t);if(!o)return;a.preventDefault(),a.stopPropagation();var l=a.touches[0];qe(t,l.clientX,l.clientY),P(N(t),a,n)}else a.touches.length>1&&t.onPinch(a)},this.onTouchPanningStop=function(a){t.onPanningStop(a),t.onPinchStop(a)},this.onDoubleClick=function(a){var s=t.setup.disabled;if(!s){var n=li(t,a);n&&oi(t,a)}},this.clearPanning=function(a){t.isPanning&&t.onPanningStop(a)},this.setKeyPressed=function(a){t.pressedKeys[a.key]=!0},this.setKeyUnPressed=function(a){t.pressedKeys[a.key]=!1},this.isPressingKeys=function(a){return a.length?!!a.find(function(s){return t.pressedKeys[s]}):!0},this.setTransformState=function(a,s,n){var o=t.props.onTransformed;if(!Number.isNaN(a)&&!Number.isNaN(s)&&!Number.isNaN(n)){a!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=a),t.transformState.positionX=s,t.transformState.positionY=n,t.applyTransformation();var l=N(t);t.onChangeCallbacks.forEach(function(d){return d(l)}),P(l,{scale:a,positionX:s,positionY:n},o)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var a=mt(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(a.scale,a.positionX,a.positionY)}},this.handleTransformStyles=function(a,s,n){return t.props.customTransform?t.props.customTransform(a,s,n):_a(a,s,n)},this.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var a=t.transformState,s=a.scale,n=a.positionX,o=a.positionY,l=t.handleTransformStyles(n,o,s);t.contentComponent.style.transform=l}},this.getContext=function(){return N(t)},this.onChange=function(a){return t.onChangeCallbacks.has(a)||t.onChangeCallbacks.add(a),function(){t.onChangeCallbacks.delete(a)}},this.onInit=function(a){return t.onInitCallbacks.has(a)||t.onInitCallbacks.add(a),function(){t.onInitCallbacks.delete(a)}},this.init=function(a,s){t.cleanupWindowEvents(),t.wrapperComponent=a,t.contentComponent=s,G(t,t.transformState.scale),t.handleInitializeWrapperEvents(a),t.handleInitialize(a,s),t.initializeWindowEvents(),t.isInitialized=!0;var n=N(t);P(n,void 0,t.props.onInit)},this.props=i,this.setup=Ge(this.props),this.transformState=lt(this.props)}return e}(),Le=J.createContext(null),ci=function(e,i){return typeof e=="function"?e(i):e},ui=J.forwardRef(function(e,i){var t=x.useRef(new di(e)).current,a=ci(e.children,Oe(t));return x.useImperativeHandle(i,function(){return Oe(t)},[t]),x.useEffect(function(){t.update(e)},[t,e]),J.createElement(Le.Provider,{value:t},a)});J.forwardRef(function(e,i){var t=x.useRef(null),a=x.useContext(Le);return x.useEffect(function(){return a.onChange(function(s){if(t.current){var n=0,o=0;t.current.style.transform=a.handleTransformStyles(n,o,1/s.instance.transformState.scale)}})},[a]),J.createElement("div",H({},e,{ref:Wa([t,i])}))});function mi(e,i){i===void 0&&(i={});var t=i.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}}var fi=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,Je={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};mi(fi);var pi=function(e){var i=e.children,t=e.wrapperClass,a=t===void 0?"":t,s=e.contentClass,n=s===void 0?"":s,o=e.wrapperStyle,l=e.contentStyle,d=e.wrapperProps,u=d===void 0?{}:d,c=e.contentProps,f=c===void 0?{}:c,m=x.useContext(Le),p=m.init,h=m.cleanupWindowEvents,v=x.useRef(null),b=x.useRef(null);return x.useEffect(function(){var j=v.current,C=b.current;return j!==null&&C!==null&&p&&(p==null||p(j,C)),function(){h==null||h()}},[]),J.createElement("div",H({},u,{ref:v,className:"".concat(Fe.wrapperClass," ").concat(Je.wrapper," ").concat(a),style:o}),J.createElement("div",H({},f,{ref:b,className:"".concat(Fe.contentClass," ").concat(Je.content," ").concat(n),style:l}),i))};const hi=({isOpen:e,onClose:i,images:t,initialIndex:a=0,onIndexChange:s})=>{const[n,o]=x.useState(a),[l,d]=x.useState(!1),u=x.useRef(null);x.useLayoutEffect(()=>{if(e&&u.current){const m=u.current.offsetWidth;u.current.scrollLeft=a*m,o(a),d(!1)}},[e]);const c=()=>{if(!u.current)return;const m=u.current.scrollLeft,p=u.current.offsetWidth,h=Math.round(m/p);h!==n&&h>=0&&h<t.length&&(o(h),s==null||s(h))},f=m=>{if(u.current){const p=u.current.offsetWidth;u.current.scrollTo({left:m*p,behavior:"smooth"})}};return e?r.jsxs("div",{className:"fixed inset-0 z-[2000] bg-black flex flex-col",children:[r.jsx("style",{children:`
        .react-transform-wrapper { width: 100% !important; height: 100% !important; }
        .react-transform-component { width: 100% !important; height: 100% !important; }
        .zoom-wrapper-custom { touch-action: pan-x pinch-zoom !important; }
        .zoom-wrapper-custom.is-zoomed { touch-action: none !important; }
      `}),r.jsxs("div",{className:"absolute top-0 left-0 w-full p-4 flex justify-between items-center z-50 pointer-events-none",children:[r.jsxs("span",{className:"text-white/90 text-sm font-medium tracking-widest drop-shadow-md",children:[n+1," / ",t.length]}),r.jsx("button",{onClick:i,className:"pointer-events-auto p-2 bg-white/10 backdrop-blur-md rounded-full text-white hover:bg-white/20 transition-colors",children:r.jsx(Ie,{size:24})})]}),r.jsx("div",{ref:u,onScroll:c,className:`flex-grow flex items-center overflow-x-auto snap-x snap-mandatory scrollbar-hide ${l?"overflow-hidden":""}`,style:{width:"100vw",height:"100%"},children:t.map((m,p)=>{const h=p===n;return r.jsx("div",{className:"w-full h-full flex-shrink-0 snap-center flex items-center justify-center relative",style:{width:"100vw"},children:h?r.jsx(ui,{initialScale:1,minScale:1,maxScale:4,centerOnInit:!0,alignmentAnimation:{sizeX:0,sizeY:0},doubleClick:{mode:"toggle"},panning:{disabled:!l},onZoom:({state:v})=>d(v.scale>1.01),onZoomStop:({state:v})=>d(v.scale>1.01),onTransformed:({state:v})=>d(v.scale>1.01),children:r.jsx(pi,{wrapperClass:`zoom-wrapper-custom ${l?"is-zoomed":""}`,contentStyle:{width:"100%",height:"100%"},children:r.jsx("img",{src:m,alt:`View ${p}`,className:"max-w-full max-h-screen object-contain select-none w-full h-full",draggable:!1,loading:"eager",decoding:"sync"})})}):r.jsx("img",{src:m,alt:`View ${p}`,className:"max-w-full max-h-screen object-contain select-none w-full h-full",draggable:!1,loading:"eager"})},p)})}),n>0&&r.jsx("button",{onClick:()=>f(n-1),className:"absolute left-2 top-1/2 -translate-y-1/2 p-4 text-white/50 hover:text-white z-50 hidden md:block",children:r.jsx(Kt,{size:40})}),n<t.length-1&&r.jsx("button",{onClick:()=>f(n+1),className:"absolute right-2 top-1/2 -translate-y-1/2 p-4 text-white/50 hover:text-white z-50 hidden md:block",children:r.jsx(Xe,{size:40})}),!l&&r.jsx("div",{className:"absolute bottom-10 w-full text-center pointer-events-none text-white/40 text-[10px] font-bold uppercase tracking-widest md:hidden",children:"Swipe • Double Tap to Zoom"})]}):null},vi=({images:e=[]})=>{const[i,t]=x.useState(0),[a,s]=x.useState(!1),[n,o]=x.useState({x:0,y:0}),[l,d]=x.useState(!1),u=x.useRef(null),c=x.useRef(!1);if(!e.length)return null;x.useEffect(()=>{if(u.current&&!c.current){const p=u.current.offsetWidth,h=i*p;Math.abs(u.current.scrollLeft-h)>10&&u.current.scrollTo({left:h,behavior:"smooth"})}},[i]);const f=()=>{if(u.current){const p=u.current.offsetWidth,h=Math.round(u.current.scrollLeft/p);h!==i&&t(h)}},m=p=>{const{left:h,top:v,width:b,height:j}=p.currentTarget.getBoundingClientRect();o({x:(p.clientX-h)/b*100,y:(p.clientY-v)/j*100})};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex flex-col-reverse md:flex-row gap-4 h-fit sticky top-24 select-none",children:[r.jsx("div",{className:"hidden md:flex md:flex-col gap-3 overflow-y-auto scrollbar-hide md:w-20 md:h-[500px] flex-shrink-0 px-1",children:e.map((p,h)=>r.jsx("button",{onMouseEnter:()=>t(h),onClick:()=>t(h),className:`relative w-full h-24 flex-shrink-0 rounded-lg overflow-hidden border-2 transition-all duration-300 ${i===h?"border-[#B08D55] opacity-100 shadow-md":"border-transparent opacity-60 hover:opacity-100"}`,children:r.jsx("img",{src:p,alt:`Thumb ${h}`,className:"w-full h-full object-cover",loading:"lazy"})},h))}),r.jsxs("div",{className:"md:hidden relative w-full aspect-square rounded-2xl overflow-hidden bg-[#FAFAFA]",children:[r.jsx("div",{ref:u,onScroll:f,onTouchStart:()=>{c.current=!0},onTouchEnd:()=>{setTimeout(()=>{c.current=!1},500)},className:"w-full h-full flex overflow-x-auto snap-x snap-mandatory scrollbar-hide",style:{scrollBehavior:"smooth"},children:e.map((p,h)=>r.jsx("div",{className:"w-full h-full flex-shrink-0 snap-center relative",children:r.jsx("img",{src:p,onClick:()=>d(!0),className:"w-full h-full object-cover active:scale-[0.98] transition-transform duration-200",alt:`View ${h+1}`,loading:h===0?"eager":"lazy",decoding:"async"})},h))}),r.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 z-10 pointer-events-none",children:e.map((p,h)=>r.jsx("div",{className:`h-1.5 rounded-full transition-all shadow-sm ${h===i?"bg-white w-4":"bg-white/50 w-1.5"}`},h))}),r.jsx("div",{className:"absolute bottom-4 right-4 bg-black/60 backdrop-blur text-white px-3 py-1.5 rounded-full text-[10px] font-bold uppercase tracking-widest flex items-center gap-2 pointer-events-none",children:r.jsx(ta,{size:12})})]}),r.jsxs("div",{className:"hidden md:block relative flex-grow bg-[#FAFAFA] rounded-2xl overflow-hidden cursor-zoom-in group h-[600px] w-full shadow-sm",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onMouseMove:m,onClick:()=>d(!0),children:[r.jsx("img",{src:e[i],alt:"Main",className:"w-full h-full object-cover transition-opacity duration-300",loading:"eager"}),a&&r.jsx("div",{className:"absolute inset-0 pointer-events-none bg-no-repeat z-10 bg-white",style:{backgroundImage:`url("${e[i]}")`,backgroundPosition:`${n.x}% ${n.y}%`,backgroundSize:"200%"}})]})]}),r.jsx(hi,{isOpen:l,onClose:()=>d(!1),images:e,initialIndex:i,onIndexChange:t})]})},gi=({spotId:e,user:i,onPostSuccess:t,isPosting:a,setIsPosting:s})=>{const[n,o]=x.useState(5),[l,d]=x.useState(""),[u,c]=x.useState(null),[f,m]=x.useState(0),p=v=>new Promise((b,j)=>{const C=`${Date.now()}_${v.name.replace(/\s+/g,"_")}`,S=`reviews/${e}/${C}`,k=Et(wt,S),T=Bt(k,v);T.on("state_changed",y=>{const D=y.bytesTransferred/y.totalBytes*100;m(D)},y=>j(y),async()=>{const y=await Ft(T.snapshot.ref);b(y)})}),h=async()=>{if(!(!i||!l.trim())){s(!0),m(0);try{let v=null;u&&(v=await p(u));const b={spotId:e,userId:i.uid,username:i.displayName||i.email.split("@")[0]||"Anonymous",userEmail:i.email,rating:n,comment:l.trim(),imageUrl:v||null,helpfulCount:0,createdAt:Yt()},j=Se(Z,"products",e),C=Se(je(Z,"reviews"));await Xt(Z,async S=>{const k=await S.get(j);if(!k.exists())throw"Product document does not exist!";const T=k.data(),y=T.reviewCount||0,D=T.averageRating||0,Y=y+1,E=(D*y+n)/Y;S.set(C,b),S.update(j,{averageRating:parseFloat(E.toFixed(1)),reviewCount:Y})}),o(5),d(""),c(null),m(0),t()}catch(v){console.error("Failed to post review:",v),alert("Failed to post review. Please try again.")}finally{s(!1)}}};return r.jsxs(bt.div,{className:"bg-white p-4 rounded-sm border border-gray-200 mb-8",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},children:[r.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[Array.from({length:5}).map((v,b)=>r.jsx("button",{onClick:()=>o(b+1),className:"focus:outline-none transition-transform hover:scale-110",children:r.jsx(me,{size:24,className:`${b+1<=n?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},b+1)),r.jsxs("span",{className:"text-sm text-gray-500 ml-2 font-medium",children:[n," / 5"]})]}),r.jsx("textarea",{rows:3,className:"w-full border border-gray-200 rounded-sm p-3 text-sm focus:outline-none focus:border-[#B08D55] mb-3 bg-gray-50",placeholder:"Share your experience with this product...",value:l,onChange:v=>d(v.target.value)}),u&&!a&&r.jsxs("div",{className:"mb-3 relative inline-block",children:[r.jsx("img",{src:URL.createObjectURL(u),alt:"preview",className:"w-20 h-20 object-cover rounded-sm border border-gray-200"}),r.jsx("button",{onClick:()=>c(null),className:"absolute -top-2 -right-2 bg-black text-white p-1 rounded-full shadow-sm","aria-label":"Remove image",children:r.jsx(Ie,{size:12})})]}),a&&f>0&&r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5 mb-3",children:r.jsx("div",{className:"bg-[#B08D55] h-1.5 rounded-full transition-all duration-300",style:{width:`${f}%`}})}),r.jsxs("div",{className:"flex items-center justify-between pt-2",children:[r.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-xs font-bold uppercase tracking-wider text-gray-500 hover:text-black transition-colors",children:[r.jsx(Vt,{size:18})," Add Photo",r.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:v=>{v.target.files&&v.target.files[0]&&c(v.target.files[0])}})]}),r.jsx("button",{onClick:h,disabled:a||!l.trim(),className:"bg-[#B08D55] text-white px-6 py-2 text-xs font-bold uppercase tracking-widest rounded-sm hover:bg-[#8c6a40] disabled:opacity-50 flex items-center gap-2 transition-colors",children:a?r.jsxs(r.Fragment,{children:["Posting ",r.jsx(ye,{size:14,className:"animate-spin"})]}):"Submit Review"})]})]})};function xi(e){if(!e)return"";try{return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})}catch{return""}}const bi=x.memo(({review:e,user:i,onDeleteReview:t,onMarkHelpful:a})=>{const[s,n]=x.useState(!1),[o,l]=x.useState(!1),[d,u]=x.useState(e.helpfulCount||0),[c,f]=x.useState(!1),m=i&&e.userId===i.uid,p=()=>{window.confirm("Are you sure you want to delete this review?")&&(n(!0),t(e.id))},h=async()=>{!i||c||o||(l(!0),f(!0),u(v=>v+1),l(!1))};return r.jsxs("div",{className:"bg-white p-0 border-b border-gray-100 pb-6 last:border-0",children:[r.jsx("div",{className:"flex justify-between items-start mb-2",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:r.jsx(yt,{size:16})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-bold text-gray-900",children:e.username}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex text-yellow-400",children:Array.from({length:5}).map((v,b)=>r.jsx(me,{size:12,className:b<(e.rating||0)?"fill-current":"text-gray-200"},b))}),r.jsx("span",{className:"text-xs text-gray-400",children:xi(e.createdAt)})]})]})]})}),r.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mt-3 mb-4",children:e.comment}),e.imageUrl&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:e.imageUrl,alt:"Review",className:"w-24 h-24 object-cover rounded-sm border border-gray-100 cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(e.imageUrl,"_blank")})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{onClick:h,disabled:!i||c||o,className:`text-xs font-bold uppercase tracking-wider flex items-center gap-1.5 px-3 py-1.5 rounded-sm transition-colors ${c?"text-green-600 bg-green-50 cursor-default":"text-gray-400 hover:text-brand-dark hover:bg-gray-50"}`,children:[o?r.jsx(ye,{size:12,className:"animate-spin"}):c?r.jsx(Ee,{size:14}):r.jsx(ea,{size:14}),"Helpful ",d>0?`(${d})`:""]}),m&&r.jsxs("button",{onClick:p,disabled:s,className:"text-xs text-red-400 hover:text-red-600 font-bold uppercase tracking-wider flex items-center gap-1 transition-colors",children:[s?r.jsx(ye,{size:12,className:"animate-spin"}):r.jsx(St,{size:14}),"Delete"]})]})]})}),wi=({productId:e})=>{const{user:i}=jt(),[t,a]=x.useState([]),[s,n]=x.useState(!1),[o,l]=x.useState(!0);x.useEffect(()=>{const u=et(je(Z,"reviews"),tt("spotId","==",e),Ot("createdAt","desc")),c=at(u,f=>{const m=f.docs.map(p=>({id:p.id,...p.data()}));a(m),l(!1)});return()=>c()},[e]);const d=async u=>{try{await Mt(Se(Z,"reviews",u))}catch(c){console.error("Error deleting review:",c)}};return r.jsx("div",{className:"bg-white border-t border-gray-100 py-16",id:"reviews",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 md:px-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-10 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-heading text-3xl text-black font-bold mb-2",children:"Customer Reviews"}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 font-bold",children:[r.jsx("div",{className:"flex text-[var(--color-primary)]",children:Array.from({length:5}).map((u,c)=>r.jsx(me,{size:16,className:c<4?"fill-current":"text-gray-200",strokeWidth:0},c))}),r.jsxs("span",{children:["Based on ",t.length," reviews"]})]})]}),r.jsxs("button",{onClick:()=>n(!s),className:"bg-black text-white px-6 py-3 text-xs font-bold uppercase tracking-widest hover:bg-[var(--color-primary)] transition-colors rounded flex items-center gap-2",children:[r.jsx(Zt,{size:16})," ",s?"Cancel Review":"Write a Review"]})]}),s&&r.jsx("div",{className:"mb-12 animate-fade-in",children:i?r.jsx(gi,{spotId:e,user:i,onPostSuccess:()=>n(!1),isPosting:!1,setIsPosting:()=>{}}):r.jsxs("div",{className:"bg-gray-50 p-6 text-center border border-gray-200 rounded",children:[r.jsx("p",{className:"text-gray-500 mb-4 font-medium",children:"Please sign in to share your experience."}),r.jsx("a",{href:"/login",className:"text-[var(--color-primary)] font-bold uppercase text-xs border-b border-[var(--color-primary)] pb-0.5 hover:text-black hover:border-black transition-all",children:"Login Now"})]})}),r.jsx("div",{className:"space-y-6",children:o?r.jsx("div",{className:"text-center py-10 text-gray-400",children:"Loading reviews..."}):t.length===0?r.jsxs("div",{className:"text-center py-16 bg-gray-50 rounded border border-dashed border-gray-200",children:[r.jsx("p",{className:"text-gray-400 mb-2",children:"No reviews yet."}),r.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-gray-300",children:"Be the first to review this masterpiece"})]}):t.map(u=>r.jsx(bi,{review:u,user:i,onDeleteReview:d},u.id))})]})})},yi=()=>r.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",className:"text-white",children:r.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),Si={Aries:"♈",Taurus:"♉",Gemini:"♊",Cancer:"♋",Leo:"♌",Virgo:"♍",Libra:"♎",Scorpio:"♏",Sagittarius:"♐",Capricorn:"♑",Aquarius:"♒",Pisces:"♓"},zi=()=>{const{id:e}=Dt(),i=At(),{products:t,loading:a}=Nt(),[s,n]=x.useState(null),[o,l]=x.useState(!0),[d,u]=x.useState([]),[c,f]=x.useState([]),[m,p]=x.useState(0),[h,v]=x.useState(1),[b,j]=x.useState(""),[C,S]=x.useState(null),[k,T]=x.useState({details:!0,shipping:!1,returns:!1}),[y,D]=x.useState(!1),[Y,E]=x.useState(""),[F,R]=x.useState([]),[_,W]=x.useState(!1),[ie,I]=x.useState(!1),[re,ne]=x.useState(112),[he,ve]=x.useState(null),K=x.useRef(null),ee=151,w=t.find(g=>String(g.id)===e),U=w?w.imageUrls||[w.featuredImageUrl]:[],te=x.useMemo(()=>{if(!w||!t)return[];const g=t.filter(z=>String(z.id)!==String(w.id)),A=g.filter(z=>z.category===w.category),X=g.filter(z=>z.category!==w.category);return[...A,...X].slice(0,4)},[t,w]),Pe=g=>g>=3?15:g===2?10:0,se=g=>{T(A=>({...A,[g]:!A[g]}))};x.useEffect(()=>{if(!e)return;const g=et(je(Z,"reviews"),tt("spotId","==",e)),A=at(g,X=>{const z=X.docs.map(Q=>Q.data());if(f(z),z.length>0){const Q=z.reduce((L,Te)=>L+(Number(Te.rating)||0),0);p(Math.round(Q/z.length*10)/10)}else p(0)});return()=>A()},[e]),x.useEffect(()=>{(async()=>{if(!e||!w)return;l(!0);const A=[];De&&(Object.keys(De).forEach(X=>{const z=De[X],Q=z.keywords||[],L=(w.name+" "+w.description+" "+w.category).toLowerCase();Q.some(Te=>L.includes(Te.toLowerCase()))&&A.push({name:X,...z})}),R(A));try{const X=Se(Z,"products",e),z=await Rt(X);n(z.exists()?z.data().stock:(w==null?void 0:w.stock)||50);const Q=await _t(je(Z,"coupons"));u(Q.docs.map(L=>({id:L.id,...L.data()})).filter(L=>L.isActive!==!1))}catch{n((w==null?void 0:w.stock)||50)}finally{l(!1)}})()},[e,w]),x.useEffect(()=>{const g=new IntersectionObserver(([X])=>I(!X.isIntersecting),{threshold:.1});K.current&&g.observe(K.current);const A=setInterval(()=>ne(X=>X+(Math.random()>.5?1:-1)),5e3);return()=>{K.current&&g.unobserve(K.current),clearInterval(A)}},[]);const ke=g=>{navigator.clipboard.writeText(g),ve(g),setTimeout(()=>ve(null),2e3)},ge=async()=>{if(navigator.share)try{await navigator.share({title:w.name,text:`Check out ${w.name} on Vishwanatham!`,url:window.location.href})}catch{}else try{await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}catch{console.error("Failed to copy link")}};if(a)return r.jsx("div",{className:"h-screen flex items-center justify-center bg-white",children:r.jsx(ye,{className:"animate-spin text-[#B08D55]",size:40})});if(!w)return r.jsx("div",{className:"h-screen flex items-center justify-center",children:"Product not found"});const oe=Number(w.price),q=Number(w.comparePrice),ae=Pe(h),le=oe-oe*(ae/100),de=le*h+(y?ee:0),ce=!o&&s!==null&&s<h,xe=g=>{const A={id:w.id,name:w.name,price:le,quantity:h,variant:h===1?"Single":`Bundle (${h})`,image:U[0],energization:y,energizationDetails:y?{name:Y}:null};i("/checkout",{state:{directPurchase:[A],paymentMode:g}})},gt=()=>{const g=`Namaste! I want to order ${w.name}. Price: ₹${de}.`,A=`https://wa.me/919876543210?text=${encodeURIComponent(g)}`;window.open(A,"_blank")},xt=()=>{b.length===6&&setTimeout(()=>{const g=new Date;g.setDate(g.getDate()+4),S(g.toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"short"}))},1e3)};return r.jsxs(r.Fragment,{children:[r.jsx("style",{children:`
        .font-crimson { font-family: 'Crimson Pro', serif; }
        
        /* SHINE EFFECT (For Pay Online) */
        @keyframes shine { 
          0% { transform: translateX(-100%) rotate(25deg); } 
          100% { transform: translateX(200%) rotate(25deg); } 
        }
        .animate-shine { animation: shine 1.5s infinite linear; }
        
        /* COSMIC BREATH (For Rashi Button) */
        @keyframes cosmic-breath {
            0% { transform: scale(1); box-shadow: 0 4px 6px -1px rgba(176,141,85, 0.1), 0 2px 4px -1px rgba(176,141,85, 0.06); }
            50% { transform: scale(1.02); box-shadow: 0 10px 15px -3px rgba(176,141,85, 0.3), 0 4px 6px -2px rgba(176,141,85, 0.1); border-color: #D4AF37; }
            100% { transform: scale(1); box-shadow: 0 4px 6px -1px rgba(176,141,85, 0.1), 0 2px 4px -1px rgba(176,141,85, 0.06); }
        }
        .animate-cosmic-breath {
            animation: cosmic-breath 3s infinite ease-in-out;
        }

        /* Other utility animations */
        @keyframes attract-pulse {
            0%, 100% { border-color: #E5E7EB; transform: scale(1); }
            50% { border-color: #B08D55; transform: scale(1.01); box-shadow: 0 4px 12px rgba(176,141,85, 0.15); }
        }
        .animate-attract { animation: attract-pulse 3s infinite ease-in-out; }

        @keyframes cosmic-flow {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
        }
        .animate-cosmic { 
            background: linear-gradient(135deg, #FFFBF0 0%, #FFFFFF 50%, #FDF7E3 100%);
            background-size: 200% 200%;
            animation: cosmic-flow 5s ease infinite alternate;
        }
      `}),r.jsx(Wt,{isOpen:_,onClose:()=>W(!1),onRashiSelected:g=>{W(!1),i(`/shop?rashi=${g}`)}}),r.jsxs("div",{className:"bg-white min-h-screen pb-32 font-sans text-gray-900",children:[r.jsx("div",{className:"hidden md:block bg-white border-b border-gray-100 sticky top-0 z-40",children:r.jsx("div",{className:"container mx-auto px-4 py-3",children:r.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest font-sans",children:[r.jsx(He,{to:"/",className:"hover:text-[#B08D55] transition-colors",children:"Home"})," ",r.jsx(Xe,{size:10}),r.jsx(He,{to:"/shop",className:"hover:text-[#B08D55] transition-colors",children:"Shop"})," ",r.jsx(Xe,{size:10}),r.jsx("span",{className:"text-gray-900 font-bold truncate max-w-[200px]",children:w.name})]})})}),r.jsxs("div",{className:"container mx-auto px-4 md:px-8 pt-0 md:pt-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-0 lg:gap-12",children:[r.jsx("div",{className:"w-full lg:w-[58%]",children:r.jsx(vi,{images:U})}),r.jsxs("div",{className:"w-full lg:w-[42%] mt-4 lg:mt-0",children:[r.jsxs("div",{className:"mb-6 border-b border-gray-100 pb-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("span",{className:"bg-gradient-to-r from-[#B08D55] to-[#8C6B3D] text-white text-[10px] font-bold px-3 py-1 rounded-full uppercase tracking-wider font-sans shadow-sm",children:"Best Seller"}),r.jsx("button",{onClick:ge,className:"text-gray-400 hover:text-[#B08D55] transition-colors",children:r.jsx(It,{size:18})})]}),r.jsx("h1",{className:"font-crimson text-3xl md:text-4xl font-bold text-black mb-3 leading-tight",children:w.name}),r.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-3 font-sans",children:[r.jsxs("div",{className:"flex flex-col",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-3xl font-crimson font-bold text-black",children:["₹",de.toLocaleString()]}),q>0&&r.jsxs(r.Fragment,{children:[r.jsxs("span",{className:"text-sm text-gray-400 line-through font-medium",children:["₹",(q*h).toLocaleString()]}),r.jsxs("span",{className:"bg-red-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-full uppercase shadow-sm",children:["-",Math.round((q-le)/q*100),"% OFF"]})]})]}),r.jsx("p",{className:"text-[10px] text-gray-500 font-medium mt-0.5",children:"Inclusive of all taxes"})]}),r.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-3",children:[c.length>0?r.jsxs("div",{className:"flex items-center gap-1.5 text-yellow-500 bg-[#FFFBF0] px-3 py-1.5 rounded-lg border border-[#F4EBD9]",children:[r.jsx("span",{className:"text-sm font-bold text-[#1F362A]",children:m}),r.jsx(me,{size:14,fill:"currentColor"}),r.jsxs("span",{className:"text-xs text-gray-400 font-medium border-l border-gray-200 pl-1.5 ml-0.5",children:[c.length," Reviews"]})]}):r.jsxs("div",{className:"flex items-center gap-1 opacity-60",children:[r.jsx(me,{size:14,className:"text-gray-300"}),r.jsx("span",{className:"text-xs font-medium text-gray-400",children:"No Reviews"})]}),r.jsxs("span",{className:"text-[10px] text-[#B08D55] font-bold flex items-center gap-1 bg-gray-50 px-2 py-1 rounded-full md:hidden",children:[r.jsx(qt,{size:12})," ",re," viewing"]})]})]})]}),r.jsxs("div",{className:"flex flex-col gap-4 mb-6 font-sans",children:[F.length>0?r.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-[#E6D5B8] shadow-sm animate-cosmic group",children:[r.jsx("div",{className:"absolute top-[-10px] right-[-10px] text-[#B08D55]/5 rotate-12 transform scale-150",children:r.jsx(Gt,{size:80})}),r.jsxs("div",{className:"p-4 relative z-10",children:[r.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[r.jsx("div",{className:"h-[1px] w-8 bg-[#B08D55]/30"}),r.jsx("p",{className:"text-[10px] text-[#8C6B3D] uppercase font-bold tracking-[0.2em] flex items-center gap-1",children:"Perfect Match For"}),r.jsx("div",{className:"h-[1px] w-8 bg-[#B08D55]/30"})]}),r.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:F.map(g=>r.jsxs("span",{className:"px-3 py-1.5 bg-white/60 backdrop-blur-md text-[#1F362A] text-xs font-bold uppercase tracking-wide rounded-lg border border-[#F4EBD9] shadow-sm flex items-center gap-1.5 transition-all hover:scale-105 hover:bg-white hover:border-[#B08D55]",children:[r.jsx("span",{className:"text-sm",children:Si[g.name]})," ",g.name]},g.name))})]})]}):r.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-xl p-3 flex items-center gap-3",children:[r.jsx(Lt,{className:"text-gray-400",size:16}),r.jsx("p",{className:"text-xs text-gray-500",children:"Universal benefits for all Rashis."})]}),r.jsx("button",{onClick:()=>W(!0),className:"w-full py-4 text-white rounded-xl text-xs font-bold uppercase tracking-[0.15em] bg-[#1F362A] border border-[#B08D55] relative overflow-hidden group animate-cosmic-breath",children:r.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[r.jsx("span",{className:"text-lg leading-none filter drop-shadow-md",children:"✨"})," Reveal My Rashi Match"]})})]}),r.jsxs("div",{className:"mb-5 bg-white border border-gray-200 rounded-xl p-4 shadow-sm font-sans",children:[r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsx("span",{className:"text-xs font-bold text-gray-900 uppercase",children:"Select Quantity"}),ae>0&&r.jsxs("span",{className:"text-xs font-bold text-[#B08D55] bg-[#FFFBF0] px-2 py-0.5 rounded border border-[#F4EBD9]",children:[ae,"% Bundle Savings"]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center bg-gray-50 rounded-lg h-12 w-32 border border-gray-200",children:[r.jsx("button",{onClick:()=>h>1&&v(g=>g-1),className:"w-10 h-full flex items-center justify-center hover:bg-white hover:text-[#B08D55] rounded-l-lg transition-colors",children:r.jsx(Ct,{size:16})}),r.jsx("div",{className:"flex-1 h-full flex items-center justify-center font-bold text-black font-crimson text-2xl pt-1",children:h}),r.jsx("button",{onClick:()=>!ce&&v(g=>g+1),className:"w-10 h-full flex items-center justify-center hover:bg-white hover:text-[#B08D55] rounded-r-lg transition-colors",children:r.jsx(Pt,{size:16})})]}),h===1&&r.jsx("p",{className:"text-xs text-[#B08D55] font-bold underline decoration-dotted cursor-pointer hover:text-[#967645]",onClick:()=>v(2),children:"Buy 2 & Save 10%"})]})]}),d.length>0&&r.jsxs("div",{className:"mb-6 font-sans",children:[r.jsxs("h5",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[r.jsx(Ht,{size:12})," Available Offers"]}),r.jsx("div",{className:"flex flex-col gap-2",children:d.map(g=>r.jsxs("div",{className:"border border-dashed border-[#B08D55] bg-[#FFFBF0] p-3 rounded-lg flex justify-between items-center group transition-colors hover:bg-[#FFF9E5]",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-bold text-[#1F362A] text-sm flex items-center gap-2",children:g.code}),r.jsx("p",{className:"text-[10px] text-gray-600 leading-tight mt-0.5",children:g.description})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"font-bold text-xs text-[#B08D55] bg-white px-2 py-1 rounded border border-[#E6D5B8]",children:g.type==="percent"?`${g.value}% OFF`:`₹${g.value} OFF`}),r.jsx("button",{onClick:()=>ke(g.code),className:"text-[#B08D55] hover:text-[#967645] transition-colors",title:"Copy Code",children:he===g.code?r.jsx(Ee,{size:16}):r.jsx(Ut,{size:16})})]})]},g.id))})]}),r.jsx("div",{onClick:()=>D(!y),className:`mb-6 rounded-xl cursor-pointer transition-all duration-300 relative overflow-hidden group font-sans
                    ${y?"bg-gradient-to-br from-[#FFD700] via-[#FDB931] to-[#D4AF37] shadow-xl transform scale-[1.02] ring-1 ring-[#B08D55] animate-pulse-gold":"bg-white border-2 border-dashed border-gray-300 hover:border-[#B08D55] hover:bg-gray-50 animate-attract"}`,children:r.jsxs("div",{className:`p-5 flex items-start gap-4 ${y?"text-[#1F362A]":"text-gray-900"}`,children:[r.jsx("div",{className:`mt-0.5 w-6 h-6 rounded-full flex items-center justify-center transition-all flex-shrink-0
                       ${y?"bg-white text-[#B08D55] shadow-sm":"border-2 border-gray-300 bg-white"}`,children:y&&r.jsx(Ee,{size:14,strokeWidth:3})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("p",{className:"text-sm font-bold flex items-center gap-2",children:["Add Pran Pratistha (Energization)",!y&&r.jsx("span",{className:"bg-[#B08D55] text-white text-[9px] px-1.5 py-0.5 rounded uppercase shadow-sm",children:"Recommended"})]}),r.jsxs("span",{className:`text-xs font-bold ${y?"text-[#1F362A]":"text-[#B08D55]"}`,children:["+₹",ee]})]}),r.jsx("p",{className:`text-[11px] mt-1 leading-relaxed ${y?"text-[#1F362A] font-medium":"text-gray-500"}`,children:"Vedic ritual performed in your name at Kashi Vishwanath temple to activate the spiritual energy."}),y&&r.jsxs("div",{className:"mt-4 pt-3 border-t border-[#1F362A]/20 animate-fade-in",children:[r.jsx("label",{className:"text-[10px] font-bold text-[#1F362A] uppercase block mb-1",children:"Name for Sankalp"}),r.jsx("input",{type:"text",placeholder:"Enter devotee name...",className:"w-full text-sm p-2.5 bg-white/90 border-none rounded-lg outline-none text-[#1F362A] placeholder:text-gray-500 shadow-inner font-serif",value:Y,onClick:g=>g.stopPropagation(),onChange:g=>E(g.target.value)})]})]})]})}),r.jsxs("div",{ref:K,className:"flex flex-col gap-3 mb-6 font-sans",children:[r.jsx("button",{onClick:()=>xe("ONLINE"),disabled:ce,className:`w-full py-4 rounded-xl shadow-xl flex flex-col items-center justify-center gap-1 group relative overflow-hidden transition-all hover:scale-[1.01]
                    ${ce?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-black text-white hover:bg-gray-900"}`,children:ce?"Sold Out":r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden opacity-30",children:r.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-gradient-to-r from-transparent via-white to-transparent skew-x-[-20deg] animate-shine"})}),r.jsxs("span",{className:"font-bold text-sm uppercase tracking-widest relative z-10 flex items-center gap-2 text-[#F4EBD9]",children:["Pay Online ",r.jsx(kt,{size:16})]}),r.jsx("span",{className:"text-[10px] font-bold text-[#B08D55] bg-white/10 px-2 py-0.5 rounded-full relative z-10",children:"⚡ Early Dispatch + 5% OFF"})]})}),r.jsx("button",{onClick:()=>xe("COD"),disabled:ce,className:"w-full py-3.5 border border-gray-300 rounded-xl font-bold text-xs uppercase tracking-widest text-gray-900 hover:border-black hover:bg-gray-50 transition-colors",children:"Cash on Delivery"})]}),r.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl border border-gray-100 font-sans",children:[r.jsxs("h5",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2 flex items-center gap-1",children:[r.jsx(Ze,{size:12})," Check Delivery"]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",maxLength:6,placeholder:"Pincode",value:b,onChange:g=>j(g.target.value),className:"flex-1 h-10 px-3 text-sm border border-gray-300 rounded-lg outline-none focus:border-[#B08D55] bg-white"}),r.jsx("button",{onClick:xt,className:"px-4 bg-black text-white rounded-lg text-xs font-bold uppercase hover:bg-[#B08D55] transition-colors",children:"Check"})]}),C&&r.jsxs("p",{className:"text-xs text-green-700 mt-2 font-bold flex items-center gap-1",children:[r.jsx(Tt,{size:12})," Estimated: ",C]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6 font-sans",children:[r.jsxs("button",{onClick:gt,className:"flex items-center justify-center gap-2 p-3 bg-green-600 text-white rounded-xl shadow-sm hover:bg-green-700 transition-all",children:[r.jsx(yi,{}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-[10px] font-medium opacity-90 leading-none",children:"Order on"}),r.jsx("p",{className:"text-sm font-bold leading-tight",children:"WhatsApp"})]})]}),r.jsxs("div",{className:"flex items-center justify-center gap-3 p-3 bg-gray-50 border border-gray-100 rounded-xl",children:[r.jsx($t,{className:"text-gray-400",size:24}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wide",children:"Need Help?"}),r.jsx("a",{href:"tel:+919876543210",className:"text-sm font-bold text-gray-900 hover:underline",children:"Contact Us"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-100 font-sans",children:[r.jsxs("div",{className:"border-b border-gray-100",children:[r.jsxs("button",{onClick:()=>se("details"),className:"w-full py-4 flex justify-between items-center text-left hover:text-[#B08D55] transition-colors",children:[r.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx(Qt,{size:16})," Product Details"]}),r.jsx(ze,{size:14,className:`transition-transform ${k.details?"rotate-180":""}`})]}),k.details&&r.jsxs("div",{className:"pb-6 text-sm text-gray-600 leading-relaxed font-serif animate-fade-in",children:[w.detailImageUrls&&w.detailImageUrls.length>0&&r.jsx("img",{src:w.detailImageUrls[0],alt:"Detail",className:"w-full h-auto object-cover rounded-lg mb-4 shadow-sm"}),r.jsx("p",{children:w.description||"Authentic spiritual artifact from Kashi."})]})]}),r.jsxs("div",{className:"border-b border-gray-100",children:[r.jsxs("button",{onClick:()=>se("shipping"),className:"w-full py-4 flex justify-between items-center text-left hover:text-[#B08D55] transition-colors",children:[r.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx(Ze,{size:16})," Shipping & Dispatch"]}),r.jsx(ze,{size:14,className:`transition-transform ${k.shipping?"rotate-180":""}`})]}),k.shipping&&r.jsx("div",{className:"pb-6 text-sm text-gray-600 leading-relaxed font-serif animate-fade-in pl-6",children:r.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[r.jsx("li",{children:"Dispatched within 24 hours of ordering."}),r.jsx("li",{children:"Free shipping across India on prepaid orders."}),r.jsx("li",{children:"Secure packaging to ensure safety during transit."}),r.jsx("li",{children:"Tracking details shared via WhatsApp & SMS."})]})})]}),r.jsxs("div",{className:"border-b border-gray-100",children:[r.jsxs("button",{onClick:()=>se("returns"),className:"w-full py-4 flex justify-between items-center text-left hover:text-[#B08D55] transition-colors",children:[r.jsxs("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-900 flex items-center gap-2",children:[r.jsx(Jt,{size:16})," Returns & Replacements"]}),r.jsx(ze,{size:14,className:`transition-transform ${k.returns?"rotate-180":""}`})]}),k.returns&&r.jsx("div",{className:"pb-6 text-sm text-gray-600 leading-relaxed font-serif animate-fade-in pl-6",children:r.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[r.jsx("li",{children:"7-day easy replacement policy for damaged/wrong items."}),r.jsx("li",{children:"Video unboxing required for damage claims."}),r.jsx("li",{children:"Genuine authentic products directly from Kashi."})]})})]})]})]})]}),te.length>0&&r.jsxs("div",{className:"mt-16 border-t border-gray-200 pt-10",children:[r.jsx("div",{className:"mb-8 text-center",children:r.jsx("h3",{className:"text-2xl font-crimson font-bold text-gray-900",children:"You May Also Like"})}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:te.map(g=>r.jsx(zt,{product:g},g.id))})]}),r.jsx("div",{className:"mt-16",children:r.jsx(wi,{productId:w.id})}),r.jsx("div",{className:`fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 p-3 z-50 transition-transform duration-300 shadow-[0_-5px_20px_rgba(0,0,0,0.1)] ${ie?"translate-y-0":"translate-y-full"}`,children:r.jsxs("div",{className:"container mx-auto max-w-6xl flex items-center justify-between gap-4 font-sans",children:[r.jsxs("div",{className:"hidden sm:flex items-center gap-3 flex-1 overflow-hidden",children:[r.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-100 border border-gray-200 overflow-hidden flex-shrink-0",children:r.jsx("img",{src:U[0],alt:"",className:"w-full h-full object-cover"})}),r.jsxs("div",{className:"min-w-0",children:[r.jsx("p",{className:"text-sm font-bold text-gray-900 truncate",children:w.name}),r.jsxs("p",{className:"text-xs text-[#B08D55] font-bold",children:["₹",de.toLocaleString()]})]})]}),r.jsxs("div",{className:"flex gap-2 flex-1 sm:flex-none w-full sm:w-auto",children:[r.jsx("button",{onClick:()=>xe("COD"),className:"flex-1 sm:flex-none px-6 py-3 bg-white border border-gray-300 text-black text-xs font-bold uppercase rounded-lg hover:bg-gray-50",children:"COD"}),r.jsxs("button",{onClick:()=>xe("ONLINE"),className:"flex-[1.5] sm:flex-none px-8 py-3 bg-black text-[#F4EBD9] text-xs font-bold uppercase rounded-lg shadow-lg hover:bg-gray-900 relative overflow-hidden group",children:[r.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden opacity-30",children:r.jsx("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-gradient-to-r from-transparent via-white to-transparent skew-x-[-20deg] animate-shine"})}),"Pay Online"]})]})]})})]})]})]})};export{zi as default};
