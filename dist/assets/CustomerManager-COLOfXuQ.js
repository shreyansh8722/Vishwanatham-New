import{j as e,S as h,a4 as p}from"./ui-vendor-ByakZdH1.js";import{r as n}from"./react-vendor-Ck_sYhI8.js";import{d as u}from"./index-BbtcUq24.js";import{t as f,v as g,x as j,p as b}from"./firebase-vendor-B9bmCHsT.js";const S=()=>{const[i,o]=n.useState([]),[l,d]=n.useState("");n.useEffect(()=>{(async()=>{const t=new Map;(await f(g(b(u,"orders"),j("createdAt","desc")))).forEach(x=>{var c;const a=x.data(),r=(c=a.shippingDetails)==null?void 0:c.email;r&&!t.has(r)&&t.set(r,{email:r,name:`${a.shippingDetails.firstName} ${a.shippingDetails.lastName}`,phone:a.shippingDetails.phone,totalSpent:a.totalAmount})}),o(Array.from(t.values()))})()},[]);const m=i.filter(s=>s.name.toLowerCase().includes(l.toLowerCase())||s.email.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h2",{className:"text-2xl font-bold text-[#1a1a1a]",children:"Customers"})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative w-full max-w-md",children:[e.jsx(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{value:l,onChange:s=>d(s.target.value),placeholder:"Search customers...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-black"})]})}),e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-xs border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Customer"}),e.jsx("th",{className:"p-4",children:"Contact"}),e.jsx("th",{className:"p-4 text-center",children:"Status"}),e.jsx("th",{className:"p-4 text-right",children:"Spent"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:m.map((s,t)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4 font-bold",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-[#B08D55]/10 text-[#B08D55] flex items-center justify-center text-xs font-bold",children:s.name.charAt(0)}),s.name]})}),e.jsxs("td",{className:"p-4 text-gray-500",children:[e.jsx("div",{className:"text-xs",children:s.email}),e.jsx("div",{className:"text-xs",children:s.phone})]}),e.jsx("td",{className:"p-4 text-center",children:e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded bg-green-50 text-green-700 text-[10px] font-bold uppercase",children:[e.jsx(p,{size:12})," Active"]})}),e.jsxs("td",{className:"p-4 text-right font-medium",children:["â‚¹",s.totalSpent.toLocaleString()]})]},t))})]})]})]})};export{S as CustomerManager};
