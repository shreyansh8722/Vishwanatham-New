import{c as R,j as e,C as w,u as F,L,a as M,P as z,X as D}from"./index-BDlxOAt8.js";import{r as o,d as B,L as A}from"./react-vendor-5iokPOny.js";import{C}from"./check-AVaDRrhW.js";import{F as I}from"./filter-DrNw9rco.js";import"./firebase-vendor-AFMmvn69.js";/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=R("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),S=({filters:c,onFilterChange:h,onPriceChange:u,onClear:b,mobile:d})=>{const[i,f]=o.useState({category:!0,price:!0,material:!0,purpose:!1}),n=t=>{f(a=>({...a,[t]:!a[t]}))},l=["Rudraksha","Gemstones","Yantra","Mala","Idols","Incense"],g=["Gold","Silver","Copper","Wood","Crystal","Stone"];return e.jsxs("div",{className:`h-full bg-white ${d?"":"sticky top-32"}`,children:[!d&&e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100",children:[e.jsx("h3",{className:"font-heading font-bold text-xl text-black",children:"Filters"}),e.jsx("button",{onClick:b,className:"text-[10px] font-bold uppercase text-gray-400 hover:text-red-500 transition-colors",children:"Clear All"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[e.jsxs("button",{onClick:()=>n("price"),className:"flex justify-between items-center w-full mb-4",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest font-bold text-black",children:"Price Range"}),i.price?e.jsx(v,{className:"w-3 h-3 text-gray-400"}):e.jsx(w,{className:"w-3 h-3 text-gray-400"})]}),i.price&&e.jsxs("div",{className:"animate-fade-in px-1",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-500 mb-4 font-body",children:[e.jsxs("span",{children:["₹",c.priceRange[0]]}),e.jsxs("span",{children:["₹",c.priceRange[1].toLocaleString()]})]}),e.jsx("input",{type:"range",min:"0",max:"50000",step:"500",value:c.priceRange[1],onChange:t=>u([c.priceRange[0],parseInt(t.target.value)]),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-black"})]})]}),e.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[e.jsxs("button",{onClick:()=>n("category"),className:"flex justify-between items-center w-full mb-4",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest font-bold text-black",children:"Category"}),i.category?e.jsx(v,{className:"w-3 h-3 text-gray-400"}):e.jsx(w,{className:"w-3 h-3 text-gray-400"})]}),i.category&&e.jsx("div",{className:"space-y-3 animate-fade-in",children:l.map(t=>{const a=c.categories.includes(t);return e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[e.jsxs("div",{className:`w-4 h-4 rounded-sm border flex items-center justify-center transition-all ${a?"bg-black border-black":"border-gray-300 bg-white"}`,children:[a&&e.jsx(C,{size:10,className:"text-white"}),e.jsx("input",{type:"checkbox",className:"hidden",checked:a,onChange:()=>h("categories",t)})]}),e.jsx("span",{className:`text-sm font-medium transition-colors ${a?"text-black font-bold":"text-gray-500 group-hover:text-black"}`,children:t})]},t)})})]}),e.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[e.jsxs("button",{onClick:()=>n("material"),className:"flex justify-between items-center w-full mb-4",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest font-bold text-black",children:"Material"}),i.material?e.jsx(v,{className:"w-3 h-3 text-gray-400"}):e.jsx(w,{className:"w-3 h-3 text-gray-400"})]}),i.material&&e.jsx("div",{className:"space-y-3 animate-fade-in",children:g.map(t=>{const a=c.materials.includes(t);return e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[e.jsxs("div",{className:`w-4 h-4 rounded-sm border flex items-center justify-center transition-all ${a?"bg-black border-black":"border-gray-300 bg-white"}`,children:[a&&e.jsx(C,{size:10,className:"text-white"}),e.jsx("input",{type:"checkbox",className:"hidden",checked:a,onChange:()=>h("materials",t)})]}),e.jsx("span",{className:`text-sm font-medium transition-colors ${a?"text-black font-bold":"text-gray-500 group-hover:text-black"}`,children:t})]},t)})})]})]})]})},U=()=>{const[c]=B(),{products:h,loading:u}=F(),[b,d]=o.useState(!1),[i,f]=o.useState("featured"),[n,l]=o.useState({priceRange:[0,5e4],categories:[],materials:[],purposes:[]});o.useEffect(()=>{const s=c.get("category");l(s?r=>({...r,categories:[s]}):r=>({...r,categories:[]}))},[c]);const g=o.useMemo(()=>h.filter(s=>{var x,m,y;const r=Number(s.price);if(r<n.priceRange[0]||r>n.priceRange[1])return!1;if(n.categories.length>0){const p=((x=s.category)==null?void 0:x.toLowerCase())||"";if(!n.categories.some(N=>p.includes(N.toLowerCase())))return!1}if(n.materials.length>0){const p=((m=s.material)==null?void 0:m.toLowerCase())||((y=s.description)==null?void 0:y.toLowerCase())||"";if(!n.materials.some(N=>p.includes(N.toLowerCase())))return!1}return!0}),[h,n]),t=o.useMemo(()=>[...g].sort((s,r)=>i==="price-low"?Number(s.price)-Number(r.price):i==="price-high"?Number(r.price)-Number(s.price):i==="newest"?new Date(r.createdAt)-new Date(s.createdAt):0),[g,i]),a=(s,r)=>{l(x=>{const m=x[s];return m.includes(r)?{...x,[s]:m.filter(p=>p!==r)}:{...x,[s]:[...m,r]}})},k=s=>{l(r=>({...r,priceRange:s}))},j=()=>{l({priceRange:[0,5e4],categories:[],materials:[],purposes:[]})};return u?e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx(L,{className:"animate-spin text-[#B08D55]",size:40})}):e.jsxs("div",{className:"bg-white min-h-screen font-sans text-gray-900 pb-20",children:[e.jsx("div",{className:"bg-gray-50 border-b border-gray-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 md:py-12",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 tracking-widest uppercase mb-6",children:[e.jsx(A,{to:"/",className:"hover:text-[#B08D55] transition-colors",children:"Home"}),e.jsx(M,{size:10}),e.jsx("span",{className:"text-gray-900",children:"Shop"})]}),e.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-bold text-gray-900 mb-3",children:"Spiritual Artifacts"}),e.jsxs("p",{className:"text-gray-500 max-w-2xl text-sm leading-relaxed",children:["Showing ",t.length," authentic items for your spiritual journey."]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:e.jsx(S,{filters:n,onFilterChange:a,onPriceChange:k,onClear:j})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:[t.length," Results"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"md:hidden flex items-center gap-2 text-xs font-bold uppercase",onClick:()=>d(!0),children:[e.jsx(I,{size:14})," Filters"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"hidden md:inline text-[10px] font-bold uppercase text-gray-400",children:"Sort by:"}),e.jsxs("select",{className:"text-xs font-bold border-none bg-transparent outline-none cursor-pointer hover:text-[#B08D55]",value:i,onChange:s=>f(s.target.value),children:[e.jsx("option",{value:"featured",children:"Featured"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"newest",children:"Newest Arrivals"})]})]})]})]}),t.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-x-6 gap-y-10",children:t.map(s=>e.jsx(z,{product:s},s.id))}):e.jsxs("div",{className:"py-20 text-center bg-gray-50 rounded-lg border border-dashed border-gray-200",children:[e.jsx("h3",{className:"font-serif text-xl text-gray-400 mb-2",children:"No artifacts found"}),e.jsx("button",{onClick:j,className:"text-[#B08D55] font-bold text-xs uppercase tracking-widest hover:underline",children:"Clear Filters"})]})]})]}),b&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:"Filters"}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(D,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx(S,{filters:n,onFilterChange:a,onPriceChange:k,onClear:j,mobile:!0})}),e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsxs("button",{onClick:()=>d(!1),className:"w-full py-4 bg-black text-white font-bold text-sm uppercase tracking-widest rounded shadow-lg",children:["Show ",t.length," Results"]})})]})]})};export{U as default};
