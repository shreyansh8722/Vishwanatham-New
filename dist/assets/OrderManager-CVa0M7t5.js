import{f as i,j as e,p as m}from"./index-BWUjk3th.js";import{r as l}from"./react-vendor-DP9M9pfQ.js";import{v as u,y as g,x as j,p as b,o as f,B as N,d as y}from"./firebase-vendor-BuohEl83.js";import{f as v}from"./utils-CPfiu7fX.js";const O=()=>{const[c,o]=l.useState([]),[r,n]=l.useState("");l.useEffect(()=>{const s=u(b(i,"orders"),j("createdAt","desc"),g(50));return f(s,a=>o(a.docs.map(t=>({id:t.id,...t.data()}))))},[]);const x=async(s,a)=>{await N(y(i,"orders",s),{status:a})},h=c.filter(s=>{var a,t;return s.id.toLowerCase().includes(r)||((t=(a=s.shippingDetails)==null?void 0:a.firstName)==null?void 0:t.toLowerCase().includes(r))});return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("h2",{className:"text-2xl font-bold text-[#1a1a1a]",children:"Orders"})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 flex gap-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(m,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{value:r,onChange:s=>n(s.target.value),placeholder:"Search orders...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-black"})]})}),e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-500 font-bold uppercase text-xs border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"Order"}),e.jsx("th",{className:"p-4",children:"Date"}),e.jsx("th",{className:"p-4",children:"Customer"}),e.jsx("th",{className:"p-4",children:"Status"}),e.jsx("th",{className:"p-4 text-right",children:"Total"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:h.map(s=>{var a,t,d;return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsxs("td",{className:"p-4 font-bold",children:["#",s.id.slice(0,6)]}),e.jsx("td",{className:"p-4 text-gray-500",children:(a=s.createdAt)==null?void 0:a.toDate().toLocaleDateString()}),e.jsxs("td",{className:"p-4",children:[(t=s.shippingDetails)==null?void 0:t.firstName," ",(d=s.shippingDetails)==null?void 0:d.lastName]}),e.jsx("td",{className:"p-4",children:e.jsxs("select",{value:s.status,onChange:p=>x(s.id,p.target.value),className:"bg-gray-50 border border-gray-300 text-xs rounded-md p-1.5 outline-none focus:border-black",children:[e.jsx("option",{children:"Pending"}),e.jsx("option",{children:"Processing"}),e.jsx("option",{children:"Shipped"}),e.jsx("option",{children:"Delivered"})]})}),e.jsx("td",{className:"p-4 text-right font-bold",children:v(s.totalAmount)})]},s.id)})})]})]})]})};export{O as OrderManager};
