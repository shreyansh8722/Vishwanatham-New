import{c as o,f as a,j as e,r as m}from"./index-BWUjk3th.js";import{r as d}from"./react-vendor-DP9M9pfQ.js";import{o as x,v as h,x as g,p as c,A as v,d as b,n as j,m as f}from"./firebase-vendor-BuohEl83.js";import{T as y}from"./ticket-i-Q9uZkH.js";/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=o("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=o("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),A=()=>{const[l,i]=d.useState([]),[s,t]=d.useState({code:"",type:"percent",value:"",minOrder:"",description:""});d.useEffect(()=>x(h(c(a,"coupons"),g("createdAt","desc")),p=>{i(p.docs.map(n=>({id:n.id,...n.data()})))}),[]);const u=async r=>{r.preventDefault(),await j(c(a,"coupons"),{...s,code:s.code.toUpperCase(),value:Number(s.value),minOrder:Number(s.minOrder),createdAt:f(),isActive:!0}),t({code:"",type:"percent",value:"",minOrder:"",description:""})};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[#E1E3E5] shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-[#202223] mb-4 flex items-center gap-2",children:[e.jsx(y,{size:20})," Create Discount"]}),e.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx("input",{required:!0,placeholder:"Code (e.g. SALE10)",className:"w-full border p-2 rounded text-sm uppercase font-bold",value:s.code,onChange:r=>t({...s,code:r.target.value})})}),e.jsx("div",{children:e.jsxs("select",{className:"w-full border p-2 rounded text-sm bg-white",value:s.type,onChange:r=>t({...s,type:r.target.value}),children:[e.jsx("option",{value:"percent",children:"Percentage %"}),e.jsx("option",{value:"fixed",children:"Fixed ₹"})]})}),e.jsx("div",{children:e.jsx("input",{required:!0,type:"number",placeholder:"Value",className:"w-full border p-2 rounded text-sm",value:s.value,onChange:r=>t({...s,value:r.target.value})})}),e.jsx("div",{children:e.jsx("input",{required:!0,type:"number",placeholder:"Min Order ₹",className:"w-full border p-2 rounded text-sm",value:s.minOrder,onChange:r=>t({...s,minOrder:r.target.value})})}),e.jsx("div",{className:"md:col-span-3",children:e.jsx("input",{required:!0,placeholder:"Description (e.g. Summer Sale)",className:"w-full border p-2 rounded text-sm",value:s.description,onChange:r=>t({...s,description:r.target.value})})}),e.jsx("button",{className:"md:col-span-1 bg-[#1A1A1A] text-white rounded text-sm font-bold uppercase hover:bg-black",children:"Create"})]})]}),e.jsx("div",{className:"space-y-3",children:l.map(r=>e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-[#E1E3E5] shadow-sm flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-50 text-green-700 flex items-center justify-center border border-green-100",children:r.type==="percent"?e.jsx(w,{size:16}):e.jsx(N,{size:16})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:r.code}),e.jsx("p",{className:"text-xs text-gray-500",children:r.description})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"font-bold",children:r.type==="percent"?`${r.value}% OFF`:`₹${r.value} OFF`}),e.jsx("button",{onClick:()=>v(b(a,"coupons",r.id)),className:"text-gray-400 hover:text-red-600",children:e.jsx(m,{size:18})})]})]},r.id))})]})};export{A as CouponManager};
