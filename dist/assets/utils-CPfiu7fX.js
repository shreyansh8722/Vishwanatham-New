const u=async(e,i=1200,m=.7)=>new Promise((d,g)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=l=>{const t=new Image;t.src=l.target.result,t.onload=()=>{const n=document.createElement("canvas");let o=t.width,a=t.height;o>i&&(a=Math.round(a*i/o),o=i),n.width=o,n.height=a;const r=n.getContext("2d");r.imageSmoothingEnabled=!0,r.imageSmoothingQuality="high",r.drawImage(t,0,0,o,a),r.canvas.toBlob(c=>{if(!c){g(new Error("Canvas is empty"));return}const w=(e.size/1024).toFixed(2),h=(c.size/1024).toFixed(2);console.log(`Compressed: ${w}KB -> ${h}KB (Quality: ${m})`);const p=new File([c],e.name.replace(/\.[^/.]+$/,"").replace(/\s+/g,"_")+".webp",{type:"image/webp",lastModified:Date.now()});d(p)},"image/webp",m)},s.onerror=n=>g(n)}}),F=e=>new Intl.NumberFormat("en-IN").format(e);export{u as c,F as f};
