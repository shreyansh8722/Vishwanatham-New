import{c as A,j as e,C,u as I,L as E,a as O,P as $,X as H}from"./index-C2OvRd8y.js";import{r as c,d as G,L as K}from"./react-vendor-5iokPOny.js";import{C as L,R as D,a as T,S as U}from"./RashiFinderModal-JPIrXnVa.js";import{F as W}from"./filter-D9zAlgEv.js";import"./firebase-vendor-AFMmvn69.js";/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=A("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),B=({filters:i,onFilterChange:h,onPriceChange:j,onClear:y,mobile:d})=>{const[n,N]=c.useState({category:!0,price:!0,material:!0,purpose:!1}),p=a=>{N(t=>({...t,[a]:!t[a]}))},b=["Rudraksha","Gemstones","Yantra","Mala","Idols","Incense"],o=["Gold","Silver","Copper","Wood","Crystal","Stone"];return e.jsxs("div",{className:`h-full bg-white ${d?"":"sticky top-32"}`,children:[!d&&e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100",children:[e.jsx("h3",{className:"font-heading font-bold text-xl text-black",children:"Filters"}),e.jsx("button",{onClick:y,className:"text-[10px] font-bold uppercase text-gray-400 hover:text-red-500 transition-colors",children:"Clear All"})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[e.jsxs("button",{onClick:()=>p("price"),className:"flex justify-between items-center w-full mb-4",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest font-bold text-black",children:"Price Range"}),n.price?e.jsx(S,{className:"w-3 h-3 text-gray-400"}):e.jsx(C,{className:"w-3 h-3 text-gray-400"})]}),n.price&&e.jsxs("div",{className:"animate-fade-in px-1",children:[e.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-500 mb-4 font-body",children:[e.jsxs("span",{children:["â‚¹",i.priceRange[0]]}),e.jsxs("span",{children:["â‚¹",i.priceRange[1].toLocaleString()]})]}),e.jsx("input",{type:"range",min:"0",max:"50000",step:"500",value:i.priceRange[1],onChange:a=>j([i.priceRange[0],parseInt(a.target.value)]),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-black"})]})]}),e.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[e.jsxs("button",{onClick:()=>p("category"),className:"flex justify-between items-center w-full mb-4",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest font-bold text-black",children:"Category"}),n.category?e.jsx(S,{className:"w-3 h-3 text-gray-400"}):e.jsx(C,{className:"w-3 h-3 text-gray-400"})]}),n.category&&e.jsx("div",{className:"space-y-3 animate-fade-in",children:b.map(a=>{const t=i.categories.includes(a);return e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[e.jsxs("div",{className:`w-4 h-4 rounded-sm border flex items-center justify-center transition-all ${t?"bg-black border-black":"border-gray-300 bg-white"}`,children:[t&&e.jsx(L,{size:10,className:"text-white"}),e.jsx("input",{type:"checkbox",className:"hidden",checked:t,onChange:()=>h("categories",a)})]}),e.jsx("span",{className:`text-sm font-medium transition-colors ${t?"text-black font-bold":"text-gray-500 group-hover:text-black"}`,children:a})]},a)})})]}),e.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[e.jsxs("button",{onClick:()=>p("material"),className:"flex justify-between items-center w-full mb-4",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest font-bold text-black",children:"Material"}),n.material?e.jsx(S,{className:"w-3 h-3 text-gray-400"}):e.jsx(C,{className:"w-3 h-3 text-gray-400"})]}),n.material&&e.jsx("div",{className:"space-y-3 animate-fade-in",children:o.map(a=>{const t=i.materials.includes(a);return e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group select-none",children:[e.jsxs("div",{className:`w-4 h-4 rounded-sm border flex items-center justify-center transition-all ${t?"bg-black border-black":"border-gray-300 bg-white"}`,children:[t&&e.jsx(L,{size:10,className:"text-white"}),e.jsx("input",{type:"checkbox",className:"hidden",checked:t,onChange:()=>h("materials",a)})]}),e.jsx("span",{className:`text-sm font-medium transition-colors ${t?"text-black font-bold":"text-gray-500 group-hover:text-black"}`,children:a})]},a)})})]})]})]})},Q=()=>{var P;const[i]=G(),{products:h,loading:j}=I(),[y,d]=c.useState(!1),[n,N]=c.useState("featured"),[p,b]=c.useState(!1),[o,a]=c.useState(null),[t,u]=c.useState({priceRange:[0,5e4],categories:[],materials:[],purposes:[]});c.useEffect(()=>{const s=i.get("category");u(s?r=>({...r,categories:[s]}):r=>({...r,categories:[]}))},[i]);const R=c.useMemo(()=>h.filter(s=>{var x,m,v;const r=Number(s.price);if(r<t.priceRange[0]||r>t.priceRange[1])return!1;if(t.categories.length>0){const l=((x=s.category)==null?void 0:x.toLowerCase())||"";if(!t.categories.some(f=>l.includes(f.toLowerCase())))return!1}if(t.materials.length>0){const l=((m=s.material)==null?void 0:m.toLowerCase())||((v=s.description)==null?void 0:v.toLowerCase())||"";if(!t.materials.some(f=>l.includes(f.toLowerCase())))return!1}if(o){const l=D[o];if(l&&l.keywords){const k=(s.name+" "+s.description+" "+s.category).toLowerCase();if(!l.keywords.some(z=>k.includes(z.toLowerCase())))return!1}}return!0}),[h,t,o]),g=c.useMemo(()=>[...R].sort((s,r)=>n==="price-low"?Number(s.price)-Number(r.price):n==="price-high"?Number(r.price)-Number(s.price):n==="newest"?new Date(r.createdAt)-new Date(s.createdAt):0),[R,n]),F=(s,r)=>{u(x=>{const m=x[s];return m.includes(r)?{...x,[s]:m.filter(l=>l!==r)}:{...x,[s]:[...m,r]}})},M=s=>{u(r=>({...r,priceRange:s}))},w=()=>{u({priceRange:[0,5e4],categories:[],materials:[],purposes:[]}),a(null)};return j?e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx(E,{className:"animate-spin text-[#B08D55]",size:40})}):e.jsxs("div",{className:"bg-white min-h-screen font-sans text-gray-900 pb-20",children:[e.jsx(T,{isOpen:p,onClose:()=>b(!1),onRashiSelected:s=>a(s)}),e.jsx("div",{className:"bg-[#F9F7F2] border-b border-[#E6D5B8]",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 md:py-12",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-bold text-gray-500 tracking-widest uppercase mb-6",children:[e.jsx(K,{to:"/",className:"hover:text-[#B08D55] transition-colors",children:"Home"}),e.jsx(O,{size:10}),e.jsx("span",{className:"text-gray-900",children:"Shop"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-bold text-[#2E4F3E] mb-3",children:"Spiritual Artifacts"}),e.jsxs("p",{className:"text-gray-600 max-w-2xl text-sm leading-relaxed",children:["Showing ",g.length," authentic items for your spiritual journey."]})]}),e.jsxs("button",{onClick:()=>b(!0),className:"bg-[#B08D55] text-white px-6 py-3 rounded-full font-bold shadow-lg shadow-[#B08D55]/20 hover:bg-[#967645] hover:-translate-y-1 transition-all flex items-center gap-2 text-sm",children:[e.jsx(U,{size:18,fill:"currentColor"})," Shop by Rashi"]})]})]})}),o&&e.jsx("div",{className:"container mx-auto px-4 mt-6",children:e.jsxs("div",{className:"bg-[#1F362A] text-white p-4 rounded-lg flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/10 rounded-full flex items-center justify-center",children:"ðŸ•‰ï¸"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] uppercase tracking-widest opacity-80",children:"Recommended for"}),e.jsxs("p",{className:"font-serif font-bold text-lg leading-none",children:[o," (",(P=D[o])==null?void 0:P.indianName,")"]})]})]}),e.jsx("button",{onClick:()=>a(null),className:"text-xs font-bold underline hover:text-[#B08D55]",children:"Remove"})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"hidden md:block w-64 flex-shrink-0",children:e.jsx(B,{filters:t,onFilterChange:F,onPriceChange:M,onClear:w})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-100",children:[e.jsxs("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide",children:[g.length," Results"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"md:hidden flex items-center gap-2 text-xs font-bold uppercase",onClick:()=>d(!0),children:[e.jsx(W,{size:14})," Filters"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"hidden md:inline text-[10px] font-bold uppercase text-gray-400",children:"Sort by:"}),e.jsxs("select",{className:"text-xs font-bold border-none bg-transparent outline-none cursor-pointer hover:text-[#B08D55]",value:n,onChange:s=>N(s.target.value),children:[e.jsx("option",{value:"featured",children:"Featured"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"}),e.jsx("option",{value:"newest",children:"Newest Arrivals"})]})]})]})]}),g.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-x-6 gap-y-10",children:g.map(s=>e.jsx($,{product:s},s.id))}):e.jsxs("div",{className:"py-20 text-center bg-gray-50 rounded-lg border border-dashed border-gray-200",children:[e.jsx("h3",{className:"font-serif text-xl text-gray-400 mb-2",children:"No artifacts found"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Try adjusting your filters or search criteria."}),e.jsx("button",{onClick:w,className:"text-[#B08D55] font-bold text-xs uppercase tracking-widest hover:underline",children:"Clear All Filters"})]})]})]}),y&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-white flex flex-col animate-fade-in",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"font-serif text-2xl font-bold",children:"Filters"}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:e.jsx(H,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx(B,{filters:t,onFilterChange:F,onPriceChange:M,onClear:w,mobile:!0})}),e.jsx("div",{className:"p-6 border-t border-gray-100",children:e.jsxs("button",{onClick:()=>d(!1),className:"w-full py-4 bg-black text-white font-bold text-sm uppercase tracking-widest rounded shadow-lg",children:["Show ",g.length," Results"]})})]})]})};export{Q as default};
